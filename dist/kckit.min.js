!function(e){var i={};function t(r){if(i[r])return i[r].exports;var s=i[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,t),s.l=!0,s.exports}t.m=e,t.c=i,t.d=function(e,i,r){t.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,i){if(1&i&&(e=t(e)),8&i)return e;if(4&i&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var s in e)t.d(r,s,function(i){return e[i]}.bind(null,s));return r},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},t.p="",t(t.s=10)}([function(e,i,t){"use strict";var r=[275,276],s=[541,573],n=[].concat(r,s),a=[209,210,211,212],o=[149,591,150,151,152],u=[].concat(a,o),p=[82,88],l=[553,554],c=p.concat(l),f=[411,412],h=p.concat(f),m=[277],d=[594,599],b=[].concat(m,d),y=[380,529,381,536],v=[526,534,544,396,560].concat(y),g=[216,217],C=[547,146],D=g.concat(C),S=[207,208,390,391,230,231,232,233],_=[195,407],I=S.concat(_),A=[234,235,236,237],q=[437,147],R=A.concat(q),B=[238,239,240,241],x=[326,419],k=B.concat(x),N=[225,226,227,362,300,228,316,322,317,556,320,557,312,558,313,559,329,354,355,294,301],L=[566,567,568],M=N.concat(L),w=[542,563,564,543],F=[229],j=w.concat(F),T=[571,576,439,364],P=[].concat(T,[515,393,519,394]),O=[601,1496,440,360],E=[544,396,549,397,433,438,545,550],K=[561,681,596,692,562,689],H=[].concat(O,E,K),G=[516,395,147],V=[].concat(G);e.exports={BB_NagatoClassRemodel:r,BB_NagatoClass2ndRemodel:s,BB_NagatoClassRemodelAll:n,BB_KongouClassRemodel:a,BB_KongouClass2ndRemodel:o,BB_KongouClassRemodelAll:u,BB_IseClassRemodel:p,BB_IseClass2ndRemodel:l,BB_IseClassRemodelAll:c,BB_FusouClass2ndRemodel:f,BB_IseClassRemodel_PLUS_FusouClass2ndRemodel:h,BB_NelsonClassRemodel:[576],CV_AkagiClassRemodel:m,CV_AkagiClass2ndRemodel:d,CV_AkagiClassRemodelAll:b,CV_KagaClassRemodel:[278],CV_ShoukakuClass2ndRemodel:[461,466,462,467],CVE:v,CVE_TaiyouClassRemodelAll:y,CL_KumaClassRemodel:g,CL_KumaClass2ndRemodel:C,CL_KumaClassRemodelAll:D,CL_NagaraClass2ndRemodel:[488,487],Yuubari:[115,293],Yahagi:[139,307],Ooyodo:[183,321],Kashima:[465,356],DD_FubukiClass2ndRemodel:[426,420],DD_AyanamiClassRemodel:S,DD_AyanamiClass2ndRemodel:_,DD_AyanamiClassRemodelAll:I,DD_AkatsukiClassRemodel:A,DD_AkatsukiClass2ndRemodel:q,DD_AkatsukiClassRemodelAll:R,DD_HatsuharuClassRemodel:B,DD_HatsuharuClass2ndRemodel:x,DD_HatsuharuClassRemodelAll:k,DD_ShiratsuyuClass2ndRemodel:[497,145,498,144,587,469],DD_AsashioClass2ndRemodel:[463,468,199,489,490,198,464,470],DD_KagerouClassRemodel:N,DD_KagerouClassRemodelB:[557,558],DD_KagerouClass2ndRemodel:L,DD_KagerouClassRemodelAll:M,DD_YuugumoClass2ndRemodel:w,DD_YuugumoClass2ndRemodel_PLUS_ShimakazeRemodel:j,DD_ShimakazeRemodel:F,Kamikaze:[471,476],Harukaze:[473,363],Ushio:[16,233,407],Hibiki:[35,235,147],Ikazuchi:[36,236],Hatsushimo:[41,241,419],Shigure:[43,243,145],Yamakaze:[457,369],Yamagumo:[414,328],Kasumi:[49,253,464,470],Yukikaze:[20,228],Isokaze:[167,320,557],Hamakaze:[170,312,558],Maikaze:[122,294],Kishinami:[527,686],Asashimo:[425,344],Suzutsuki:[532,537],rn:P,rn_BB:T,usn:H,usn_BB:O,usn_CV:E,usn_DD:K,vmf:V,vmf_DD:G}},function(e,i,t){"use strict";var r=[2,6,113],s=[4,11],n=[122,82],a=[80],o=[91],u=[120],p=[112,117];e.exports={BB_Ise:2,BBV_Ise:6,BBVR_Ise:113,group_BB_Ise:r,BB_Fusou:4,BBV_Fusou:11,group_BB_Fusou:s,BB_Colorado:122,BB_Iowa:82,BB_QueenElizabeth:85,BB_Nelson:115,CV_Lexington:87,CVB_Lexington:105,CV_Essex:110,CV_ArkRoyal:101,CV_GrafZeppelin:80,CV_Aquila:91,group_CV_Navy_KM:a,group_CV_Navy_RM:o,CA_Furutaka:39,CA_Aoba:40,CL_Kuma:48,CL_Nagara:49,CL_Sendai:50,CL_Yuubari:51,CL_Agano:52,CL_Gotland:114,CL_Abruzzi:120,CLT_Kuma:54,CLV_Gotland:116,CT_Katori:55,DD_Kamikaze:84,DD_Special:[15,16,17],DD_Tokugata:[15,16,17],DD_Fubuki:15,DD_Ayanami:16,DD_Akatsuki:17,DD_Hatsuharu:18,DD_Shiratsuyu:19,DD_Shimakaze:24,DD_Akizuki:23,DD_J:107,DD_JohnCButler:112,DD_Fletcher:117,group_DD_Tokugata:[15,16,17],group_DD_Navy_USN:p,AV_Nisshin:118,group_Navy_USN:[].concat(n,[87,105,110],p),group_Navy_KM:[].concat(a),group_Navy_RN:[85,115,101,107],group_Navy_RM:[].concat(o,u)}},function(e,i,t){"use strict";var r=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};e.exports=r({},t(32),t(33),t(34))},function(e,i,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return"object"===(void 0===e?"undefined":r(e))&&e.id?e:isNaN(e)?void 0:KC.db.ships[parseInt(e)]}},function(e,i,t){"use strict";var r={SmallCaliber:1,SmallCaliberHigh:2,SmallCaliberHA:2,SmallCaliberAA:3,SmallCaliberAAFD:3,MediumCaliber:4,LargeCaliber:5,SuperCaliber:6,SecondaryGun:7,SecondaryGunHigh:8,SecondaryGunHA:8,SecondaryGunAA:9,SecondaryGunAAFD:9,Type3Shell:10,APShell:11,Torpedo:12,SubmarineTorpedo:13,MidgetSubmarine:14,ReconSeaplane:15,ReconSeaplaneNight:16,SeaplaneBomber:17,CarrierFighter:18,TorpedoBomber:19,DiveBomber:20,CarrierRecon:21,Autogyro:22,AntiSubPatrol:23,SmallRadar:24,LargeRadar:25,DepthCharge:26,Sonar:27,LargeSonar:28,AAGun:29,AAGunConcentrated:30,AAGunCD:30,CDMG:30,AAFireDirector:31,AAFD:31,AviationPersonnel:36,SurfaceShipPersonnel:37,LandingCraft:38,Searchlight:39,SupplyContainer:41,CommandFacility:45,LargeFlyingBoat:45,SearchlightLarge:46,SuparRadar:47,CombatRation:48,CarrierRecon2:50,SeaplaneFighter:51,AmphibiousCraft:52,LandBasedAttacker:53,Interceptor:54,JetBomberFighter:55,JetBomberFighter2:56,TransportMaterial:57,SubmarineEquipment:58,LandBasedFighter:59,CarrierFighterNight:60,TorpedoBomberNight:61,LandBasedAntiSubPatrol:62,LandBasedRecon:63};r.MainGuns=[r.SmallCaliber,r.SmallCaliberHigh,r.SmallCaliberAA,r.MediumCaliber,r.LargeCaliber,r.SuperCaliber],r.MainCalibers=r.MainGuns,r.SmallCalibers=[r.SmallCaliber,r.SmallCaliberHigh,r.SmallCaliberAA],r.MediumCalibers=[r.MediumCaliber],r.LargeCalibers=[r.LargeCaliber,r.SuperCaliber],r.SecondaryGuns=[r.SecondaryGun,r.SecondaryGunHigh,r.SecondaryGunAA],r.HAMounts=[r.SmallCaliberHigh,r.SmallCaliberAA,r.SecondaryGunHigh,r.SecondaryGunAA],r.HAMountsAAFD=[r.SmallCaliberAA,r.SecondaryGunAA],r.AAShells=[r.Type3Shell],r.APShells=[r.APShell],r.Torpedos=[r.Torpedo,r.SubmarineTorpedo],r.Seaplanes=[r.ReconSeaplane,r.ReconSeaplaneNight,r.SeaplaneBomber,r.SeaplaneFighter],r.Fighters=[r.SeaplaneBomber,r.CarrierFighter,r.CarrierFighterNight,r.TorpedoBomber,r.TorpedoBomberNight,r.DiveBomber,r.SeaplaneFighter,r.LandBasedAttacker,r.Interceptor,r.JetBomberFighter,r.JetBomberFighter2,r.LandBasedFighter],r.Interceptors=[r.Interceptor,r.LandBasedFighter],r.Recons=[r.ReconSeaplane,r.ReconSeaplaneNight,r.CarrierRecon,r.CarrierRecon2,r.LargeFlyingBoat,r.LandBasedRecon],r.SeaplaneRecons=[r.ReconSeaplane,r.ReconSeaplaneNight],r.SeaplaneReconsAll=[r.ReconSeaplane,r.ReconSeaplaneNight,r.LargeFlyingBoat],r.SeaplaneBombers=[r.SeaplaneBomber,r.SeaplaneFighter],r.SeaplaneFighters=[r.SeaplaneFighter],r.CarrierFighters=[r.CarrierFighter,r.CarrierFighterNight],r.CarrierRecons=[r.CarrierRecon,r.CarrierRecon2],r.CarrierBased=[r.CarrierFighter,r.CarrierFighterNight,r.TorpedoBomber,r.TorpedoBomberNight,r.DiveBomber,r.CarrierRecon,r.CarrierRecon2,r.JetBomberFighter,r.JetBomberFighter2],r.LandBased=[r.LandBasedAttacker,r.Interceptor,r.JetBomberFighter,r.JetBomberFighter2,r.LandBasedFighter,r.LandBasedAntiSubPatrol,r.LandBasedRecon],r.TorpedoBombers=[r.TorpedoBomber,r.TorpedoBomberNight],r.DiveBombers=[r.DiveBomber],r.JetBomberFighters=[r.JetBomberFighter,r.JetBomberFighter2],r.Jets=[r.JetBomberFighter,r.JetBomberFighter2],r.Autogyros=[r.Autogyro],r.AntiSubPatrols=[r.AntiSubPatrol,r.LandBasedAntiSubPatrol],r.Aircrafts=[],[].concat(r.Seaplanes).concat(r.Recons).concat(r.CarrierBased).concat(r.Autogyros).concat(r.AntiSubPatrols).concat(r.LandBased).forEach(function(e){r.Aircrafts.indexOf(e)<0&&r.Aircrafts.push(e)}),r.Radars=[r.SmallRadar,r.LargeRadar,r.SuparRadar],r.SmallRadars=[r.SmallRadar],r.LargeRadars=[r.LargeRadar,r.SuparRadar],r.AntiSubmarines=[r.DepthCharge,r.Sonar,r.LargeSonar],r.DepthCharges=[r.DepthCharge],r.Sonars=[r.Sonar,r.LargeSonar],r.AAGuns=[r.AAGun,r.AAGunConcentrated],r.AAFireDirectors=[r.AAFireDirector],r.AAFDs=r.AAFireDirectors,r.Searchlights=[r.Searchlight,r.SearchlightLarge],r.AviationPersonnels=[r.AviationPersonnel],r.SurfaceShipPersonnels=[r.SurfaceShipPersonnel],r.LandingCrafts=[r.LandingCraft,r.AmphibiousCraft],r.AmphibiousCrafts=[r.AmphibiousCraft],r.SupplyContainers=[r.SupplyContainer],r.CombatRations=[r.CombatRation],e.exports=r},function(e,i,t){"use strict";e.exports=t(11)},function(e,i,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return e&&"object"===(void 0===e?"undefined":r(e))&&e.id?e:isNaN(e)?void 0:(KC.db.equipments||KC.db.items||{})[parseInt(e)]}},function(e,i,t){"use strict";var r=t(3),s=t(8),n=s.ArrayOrItem,a=s.ArrayOrItemAll;e.exports=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===(e=r(e)))return!1;for(var t in i)if(void 0!==i[t]&&!o[t.toLowerCase()](e,i[t]))return!1;return!0};var o={isid:function(e,i){return n(i,function(i){return!isNaN(i)&&parseInt(i)===e.id})},isnotid:function(e,i){return a(i,function(i){return!isNaN(i)&&parseInt(i)!==e.id})},isname:function(e,i){return n(i,function(i){return e.isName(i)})},isnotname:function(e,i){return a(i,function(i){return!e.isName(i)})},istype:function(e,i){return n(i,function(i){return!isNaN(i)&&parseInt(i)===e.type})},isnottype:function(e,i){return a(i,function(i){return!isNaN(i)&&parseInt(i)!==e.type})},isbattleship:function(e,i){return this.istype(e,[8,6,20,7,18])===i},isbb:function(e,i){return this.isbattleship(e,i)},iscarrier:function(e,i){return this.istype(e,[11,10,9,30,32])===i},iscv:function(e,i){return this.iscarrier(e,i)},issubmarine:function(e,i){return this.istype(e,[14,13])===i},isss:function(e,i){return this.issubmarine(e,i)},isclass:function(e,i){return n(i,function(i){return!isNaN(i)&&parseInt(i)===e.class})},isnotclass:function(e,i){return a(i,function(i){return!isNaN(i)&&parseInt(i)!==e.class})},hasslot:function(e,i){return!!Array.isArray(e.slot)&&(Array.isArray(i)?isNaN(i[0])&&!isNaN(i[1])?e.slot.length<=parseInt(i[1]):!isNaN(i[0])&&isNaN(i[1])?e.slot.length>=parseInt(i[0]):!isNaN(i[0])&&!isNaN(i[1])&&(e.slot.length>=parseInt(i[0])&&e.slot.length<=parseInt(i[1])):!isNaN(i)&&parseInt(i)===e.slot.length)},hasslotmin:function(e,i){return this.hasslot(e,[i,void 0])},hasslotmax:function(e,i){return this.hasslot(e,[void 0,i])},minlevel:function(e,i){return void 0===e.level||e.level>=i},canequip:function(e,i){return e.canEquip(i)}}},function(e,i,t){"use strict";var r=t(99),s=t(100);e.exports={ArrayOrItem:r,ArrayOrItemAll:s}},function(e,i,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=t(6),n=t(4),a=t(8),o=a.ArrayOrItem,u=a.ArrayOrItemAll,p={isid:function(e,i){return o(i,function(i){return!isNaN(i)&&parseInt(i)===e.id})},isnotid:function(e,i){return u(i,function(i){return!isNaN(i)&&parseInt(i)!==e.id})},isname:function(e,i){return o(i,function(i){return e.isName(i)})},isnotname:function(e,i){return u(i,function(i){return!e.isName(i)})},isnameof:function(e,i){return o(i,function(i){return e.hasName(i)})},isnotnameof:function(e,i){return u(i,function(i){return!e.hasName(i)})},istype:function(e,i,t){return o(i,function(i){if(isNaN(i))return!1;if(parseInt(i)!==e.type)return!1;if("object"===(void 0===t?"undefined":r(t))&&t.hasStat){var s=!0;for(var n in t.hasStat)Array.isArray(t.hasStat[n])?(e.stat[n]<t.hasStat[n][0]&&(s=!1),e.stat[n]>t.hasStat[n][1]&&(s=!1)):e.stat[n]<t.hasStat[n]&&(s=!1);if(!s)return!1}return!0})},isnottype:function(e,i){return u(i,function(i){return!isNaN(i)&&parseInt(i)!==e.type})},isaaradar:function(e,i){return(this.istype(e,n.Radars)&&!isNaN(e.stat.aa)&&e.stat.aa>=1)===i},issurfaceradar:function(e,i){return(this.istype(e,n.Radars)&&!isNaN(e.stat.hit)&&e.stat.hit>=3)===i}};e.exports=function e(i){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("object"===(void 0===t?"undefined":r(t)))return e(i,0,0,t);if("object"===(void 0===a?"undefined":r(a)))return e(i,t,0,a);if(void 0===(i=s(i)))return!1;for(var u in o)if(void 0!==o[u]){var l=u.toLowerCase();if(["improve","improvement","star"].includes(l))return(parseInt(t||0)||0)>=parseInt(o[u]);if(p[l]){if(!p[l](i,o[u]))return!1}else if("is"===u.substr(0,2)){var c=u.substr(2);if("HAMountAAFD"===c)c="HAMountsAAFD";else if(c+"s"in n)c+="s";else if(!(c in n))return!1;var f="object"===r(o[u])&&!Array.isArray(o[u]),h=o[u]&&f?o[u]:void 0;if(!p[!0===o[u]||f?"istype":"isnottype"](i,n[c],h))return!1}}return!0}},function(e,i,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(i,t,r){return t&&e(i.prototype,t),r&&e(i,r),i}}();function n(e,i){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?e:i}function a(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(e,i):e.__proto__=i)}function o(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}window.KC=function(){var e=t(5),i=t(97),u=t(7),p=t(9),l=t(3),c=t(102),f=t(103),h=t(4),m={lang:"zh_cn",joint:"・",maxShipLv:175,maxHqLv:120,db:{},path:{db:"/kcdb/",pics:{ships:"/kcpic/ships/"}},statSpeed:{5:"低速",10:"高速",15:"高速+",20:"最速"},getStatSpeed:function(e){return this.statSpeed[parseInt(e)]},statRange:{1:"短",2:"中",3:"长",4:"超长"},getStatRange:function(e){return this.statRange[parseInt(e)]},getFolderGroup:function(e,i){if("undefined"!=typeof node&&node&&node.path){e="/"==e.substr(e.length-1)?e.substr(0,e-1):e,i=parseInt(i);for(var t=1;50*t<i;)t++;return e+"-"+t+"/"}return e},textRank:{1:"|",2:"||",3:"|||",4:"\\",5:"\\\\",6:"\\\\\\",7:"》"},check:{ship:u,equipment:p},planesPerSlotLBAS:{recon:4,attacker:18}},d=function(){function e(i){for(var t in o(this,e),i)this[t]=i[t]}return s(e,[{key:"getName",value:function(e){return e=e||m.lang,this.name?this.name[e]||this.name:null}},{key:"isName",value:function(e,i){if(!0===i&&(i=m.lang),i)return this.name[i]===e;for(var t in this.name)if("suffix"!==t&&this.name[t]===e)return!0;return!1}},{key:"hasName",value:function(e,i){if(!0===i&&(i=m.lang),i)return!!this.name[i].includes(e);for(var t in this.name)if("suffix"!==t&&this.name[t].includes(e))return!0;return!1}},{key:"isNameOf",value:function(){return this.hasName.apply(this,arguments)}},{key:"_name",get:function(){return this.getName()}}]),e}(),b=function(e){function i(e){return o(this,i),n(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e))}return a(i,e),i}(d),y=function(i){function t(e){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(i,"rankupgradable",{value:i.isRankUpgradable()}),i}return a(t,i),s(t,[{key:"getName",value:function(e,i){i=i||m.lang;var t=d.prototype.getName.call(this,i),r=e&&1==!e?e:"small";return e?t.replace(/（([^（^）]+)）/g,"<"+r+">($1)</"+r+">"):t}},{key:"getType",value:function(e){return e=e||m.lang,this.type?m.db.item_types[this.type].name[e]:null}},{key:"getIconId",value:function(){return Array.isArray(this.type_ingame)&&this.type_ingame.length>3?this.type_ingame[3]:m.db.item_types[this.type].icon}},{key:"getCaliber",value:function(){var e=this.getName(!1,"ja_jp"),i=parseFloat(e);return i}},{key:"getPower",value:function(){return this.stat[m.db.item_types[this.type].main_attribute||"fire"]}},{key:"isEquipableExSlot",value:function(){return this.equipable_exslot?this.equipable_exslot||!1:this.type&&m.db.item_types[this.type].equipable_exslot||!1}},{key:"isRankUpgradable",value:function(){return _.equipmentType.Aircrafts.includes(this.type)&&this.type!==_.equipmentType.Autogyro&&this.type!==_.equipmentType.AntiSubPatrol}},{key:"getStat",value:function(e,i){e=e.toLowerCase();var t=this.stat[e];if(!i||void 0===t||!Array.isArray(this.stat_bonus))return t;if(i&&Array.isArray(this.stat_bonus)){"object"!==(void 0===i?"undefined":r(i))&&(i=m.db.ships[i]);var s=i.id,n=void 0;if(this.stat_bonus.forEach(function(e){Array.isArray(e.ships)&&e.ships.some(function(i){if(i==s){for(var t in e.bonus)n||(n={}),n[t]=Math.max(e.bonus[t],n[t]||0);return!0}return!1}),Array.isArray(e.ship_classes)&&e.ship_classes.some(function(t){if(t==i.class){for(var r in e.bonus)n||(n={}),n[r]=Math.max(e.bonus[r],n[r]||0);return!0}return!1})}),n)return t+(n[e]||0)}return t}},{key:"getBonuses",value:function(){var i=this;return e.filter(function(e){if(e.equipment==i.id)return!0;if(void 0!==e.equipments&&"object"===r(e.ship)){if(Array.isArray(e.ship.isID)&&!e.ship.isID.every(function(e){return l(e).canEquip(i,!0)}))return!1;if("number"==typeof e.ship.isID&&!l(e.ship.isID).canEquip(i,!0))return!1;if(Array.isArray(e.ship.isType)&&!e.ship.isType.every(function(e){return f(e).equipable.includes(i.type)}))return!1;if("number"==typeof e.ship.isType&&!f(e.ship.isType).equipable.includes(i.type))return!1;if(Array.isArray(e.ship.isClass)&&!e.ship.isClass.every(function(e){return f(c(e).ship_type_id).equipable.includes(i.type)}))return!1;if("number"==typeof e.ship.isClass&&!f(c(e.ship.isClass).ship_type_id).equipable.includes(i.type))return!1}return Array.isArray(e.equipments)?e.equipments.some(function(e){return p(i,10,7,e)}):"object"===r(e.equipments)&&Object.keys(e.equipments).filter(function(e){return/^has/.test(e)}).some(function(t){return p(i,function(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}({},t.replace(/^has/,"is"),e.equipments[t]))})})}},{key:"_icon",get:function(){return"assets/images/itemicon/"+this.getIconId()+".png"}}]),t}(d),v=function(i){function t(e){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,i),s(t,[{key:"getName",value:function(e,i){e=e||"",i=i||m.lang;var t=this.getSuffix(i);return(this.name[i]||this.name.ja_jp)+(t?(!0===e?m.joint:e)+t:"")}},{key:"getNameNoSuffix",value:function(e){return e=e||m.lang,this.name[e]||this.name.ja_jp}},{key:"getSuffix",value:function(e){return e=e||m.lang,this.name.suffix&&(m.db.ship_namesuffix[this.name.suffix][e]||m.db.ship_namesuffix[this.name.suffix].ja_jp)||""}},{key:"getType",value:function(e){return e=e||m.lang,this.type?m.db.ship_types[this.type].name[e]||m.db.ship_types[this.type].name.ja_jp||"":null}},{key:"getSeriesData",value:function(){return this.series?m.db.ship_series[this.series].ships:[{id:this.id}]}},{key:"getPic",value:function(e,i){e=parseInt(e||0);for(var t=this.getSeriesData(),r=this.illust_version?"?version="+this.illust_version:"",s=function(e,t){return"undefined"!=typeof node&&node&&node.path&&m.path.pics.ships?node.path.join(m.getFolderGroup(m.path.pics.ships,e),e+"/"+t+"."+(i||"webp")):m.path.pics.ships?m.path.pics.ships+e+"/"+t+"."+(i||"png")+r:"/"+e+"/"+t+"."+(i||"png")+r},n=0;n<t.length;n++)if(t[n].id==this.id)switch(e){case 0:case 1:case 2:case 3:case 12:case 13:case 14:return s(this.id,e);default:return t[n].illust_delete?s(t[n-1].id,e):s(this.id,e)}}},{key:"getSpeed",value:function(){return m.statSpeed[parseInt(this.stat.speed)]}},{key:"getSpeedRule",value:function(){return this.speed_rule?this.speed_rule:this.class?m.db.ship_classes[this.class].speed_rule:null}},{key:"getRange",value:function(){return m.statRange[parseInt(this.stat.range)]}},{key:"getEquipmentTypes",value:function(e){var i=this.additional_disable_item_types||[],t=m.db.ship_types[this.type],r=(t.equipable||[]).concat(this.additional_item_types||[]);return Array.isArray(t.additional_item_types_by_slot)&&("number"==typeof e?Array.isArray(t.additional_item_types_by_slot[e])&&t.additional_item_types_by_slot[e].forEach(function(e){return r.push(e)}):!0===e&&t.additional_item_types_by_slot.forEach(function(e){e.forEach(function(e){return r.push(e)})})),r.filter(function(e){return i.indexOf(e)<0}).sort(function(e,i){return e-i})}},{key:"getAttribute",value:function(e,i){(i=i||1)>t.lvlMax&&(i=t.lvlMax);var r=void 0;switch(e){case"hp":return r=this.stat.hp,i>99&&(r=this.stat.hp>=90?this.stat.hp+9:this.stat.hp>=70?this.stat.hp+8:this.stat.hp>=50?this.stat.hp+7:this.stat.hp>=40?this.stat.hp+6:this.stat.hp>=30?this.stat.hp+5:this.stat.hp+4)>this.stat.hp_max&&(r=this.stat.hp_max),r;case"speed":return m.getStatSpeed(this.stat.speed);case"range":return m.getStatRange(this.stat.range);case"luck":return i>99?this.stat.luck+3:this.stat.luck;case"fuel":case"ammo":return i>99?Math.floor(.85*this.consum[e]):this.consum[e];case"aa":case"armor":case"fire":case"torpedo":return this.stat[e+"_max"]||this.stat[e];default:return function(e,i,t){return e=e||1,i=parseFloat(i),t=parseFloat(t)||i,i<0||t<0?-1:i==t?t:Math.floor(i+(t-i)*e/99)}(i,this.stat[e],this.stat[e+"_max"])}}},{key:"getRel",value:function(e){if(e){if(!this.rels[e]&&this.remodel&&this.remodel.prev)for(var i=m.db.ships[this.remodel.prev];i;){if(i.rels&&i.rels[e])return i.rels[e];i=i.remodel&&i.remodel.prev?m.db.ships[i.remodel.prev]:null}return this.rels[e]}return this.rels}},{key:"getCV",value:function(e){var i=this.getRel("cv");if(i)return m.db.entities[i].getName(e||m.lang)}},{key:"getIllustrator",value:function(e){var i=this.getRel("illustrator");if(i)return m.db.entities[i].getName(e||m.lang)}},{key:"getMinLv",value:function(){var e=this,i=this._series,t=void 0;return i.some(function(r,s){return e.id==r.id&&(t=s?i[s-1].next_lvl:1),t}),t}},{key:"getNavy",value:function(){return this.navy?this.navy:this.class&&m.db.ship_classes[this.class].navy||"ijn"}},{key:"getCapability",value:function(e){return e?this.capabilities?this.capabilities[e]:void 0:this.capabilities||{}}},{key:"getStatExtraMax",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;switch(e.toLowerCase()){case"hp":var t=this.getAttribute(e,i),r=this.stat.hp_max;return Math.max(0,Math.min(2,r-t));case"asw":return this.stat.asw?9:!!_.shipType.LightCruisers.concat(_.shipType.Destroyers).includes(this.type)&&9;default:return!1}}},{key:"canEquip",value:function(e,i){var t=this;if(Array.isArray(e))return e.every(function(e){return t.canEquip(e,i)});if("string"==typeof e){if(Array.isArray(h[e]))return h[e].some(function(e){return t.canEquip(e,i)});if("number"==typeof h[e])return this.canEquip(h[e],i);if(Array.isArray(h[e+"s"]))return h[e+"s"].some(function(e){return t.canEquip(e,i)})}return"object"===(void 0===e?"undefined":r(e))&&void 0!==e.type&&(e=e.type),!isNaN(e)&&this.getEquipmentTypes(i).includes(parseInt(e))}},{key:"canEquipThis",value:function(e,i){var t=this;if(Array.isArray(e))return e.every(function(e){return t.canEquipThis(e,i)});if("string"==typeof e){if(isNaN(e))return!1;e=parseInt(e)}var s=void 0;if("number"==typeof e&&(s=m.db.item_types[e].type),"object"===(void 0===e?"undefined":r(e))){if(!e.id)return!1;s=e.type,e=e.id}return!(!Array.isArray(this.additional_items)||!this.additional_items.includes(e))||this.canEquip(s,i)}},{key:"getBonuses",value:function(){var i=this;return e.filter(function(e){return u(i,e.ship)})}},{key:"_type",get:function(){return this.getType()}},{key:"_series",get:function(){return this.getSeriesData()}},{key:"_pics",get:function(){for(var e=[],i=0;i<15;i++)e.push(this.getPic(i));return e}},{key:"_speed",get:function(){return this.getSpeed()}},{key:"_speedRule",get:function(){return this.getSpeedRule()}},{key:"_range",get:function(){return this.getRange()}},{key:"_cv",get:function(){return this.getCV()}},{key:"_illustrator",get:function(){return this.getIllustrator()}},{key:"_minLv",get:function(){return this.getMinLv()}},{key:"_navy",get:function(){return this.getNavy()}}]),t}(d);v.lvlMax=m.maxShipLv;var g=function(e){function i(e){return o(this,i),n(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e))}return a(i,e),i}(d);m.dbLoad=function(e){return"string"==typeof e?m.dbLoad({type:e}):e.type||e.url?$.ajax({url:e.url||m.path.db+"/"+e.type+".json",dataType:"text",success:function(i){var t=[];e.beforeProcess&&(t=e.beforeProcess(i)),void 0===m.db[e.type]&&(m.db[e.type]={}),t.forEach(function(i){if(i){var t=JSON.parse(i);switch(e.type){case"ships":m.db[e.type][t.id]=new v(t);break;case"items":m.db[e.type][t.id]=new y(t);break;case"entities":m.db[e.type][t.id]=new b(t);break;default:m.db[e.type][t.id]=t}}}),e.success&&e.success(i)},complete:function(i,t){e.complete&&e.complete(i,t)}}):null};var C=function(e){return e instanceof v?e:m.db.ships?m.db.ships[e]:{}},D=function(e){return e instanceof y?e:m.db.equipments?m.db.equipments[e]:m.db.items[e]},S=function(e){var i=[];return e.forEach(function(e,t){i[t>=4?t+1:t]=e}),i[4]=0,i},_={equipmentType:h,shipType:{Carriers:[9,10,11,30,32],LightCruisers:[2,3,21,28],Destroyers:[1,19],Submarines:[13,14]},calcByShip:{},calcByFleet:{},calcByField:{},calc:{}},I=_.equipmentType;return I.isInterceptor=function(e){return(!(e=D(e)).type_ingame||47!=e.type_ingame[2])&&I.Interceptors.indexOf(e.type)>-1},_.starMultiper={SmallCalibers:{shelling:1,night:1},MediumCalibers:{shelling:1,night:1},LargeCalibers:{shelling:1.5,night:1},SecondaryGuns:{shelling:1,night:1,hit:1},APShells:{shelling:1,night:1},AAShells:{shelling:1,night:1},AAFireDirectors:{shelling:1,night:1},Searchlights:{shelling:1,night:1},AAGuns:{shelling:1,torpedo:1.2},Torpedos:{torpedo:1.2,night:1},DepthCharges:{shelling:.75,antisub:1},Sonars:{shelling:.75,antisub:1},SmallRadars:{los:1.25},LargeRadars:{los:1.4},Seaplanes:{},SeaplaneRecons:{los:1.2},SeaplaneFighters:{fighter:.2},SeaplaneBomber:{los:1.15},CarrierFighters:{fighter:.2},DiveBombers:{fighter:.25,night:1},CarrierRecons:{los:1.2},LandingCrafts:{shelling:1,night:1},Interceptors:{fighter:.2},_10:{shelling:["multiplication",.2],night:1},_66:{shelling:["multiplication",.2],night:1},_220:{shelling:["multiplication",.2],night:1},_275:{shelling:["multiplication",.2],night:1},_12:{shelling:["multiplication",.3],night:["multiplication",.3]},_234:{shelling:["multiplication",.3],night:["multiplication",.3]}},_.getStarMultiplier=function(e,i){if(!_.starMultiper._init){var t=function(e){I[e]&&I[e].forEach?I[e].forEach(function(i){_.starMultiper[i]=_.starMultiper[e]}):"number"==typeof I[e]&&(_.starMultiper[I[e]]=_.starMultiper[e])};for(var r in _.starMultiper)t(r);_.starMultiper._init=!0}var s=_.starMultiper[e]||{};return i?s[i]||0:s},_.getStarBonus=function(e,i,t){e=D(e);var r=Object.assign({},_.getStarMultiplier(e.type),_.starMultiper["_"+e.id])[i],s=void 0===r?0:r,n="sqrt";switch(Array.isArray(s)&&(n=s[0],s=s[1]),n){case"sqrt":return s*Math.sqrt(t);case"multiplication":case"multiple":return s*t}},_.getFighterPowerRankMultiper=function(e,i){e=D(e);var t=[],r={};t[0]=[0,9],t[1]=[10,24],t[2]=[25,39],t[3]=[40,54],t[4]=[55,69],t[5]=[70,84],t[6]=[85,99],t[7]=[100,120],r.CarrierFighter=[0,0,2,5,9,14,14,22],r.SeaplaneBomber=[0,0,1,1,1,3,3,6];var s=t[i],n=0;switch(e.type){case I.CarrierFighter:case I.CarrierFighterNight:case I.Interceptor:case I.SeaplaneFighter:case I.LandBasedFighter:n=r.CarrierFighter[i];break;case I.SeaplaneBomber:n=r.SeaplaneBomber[i]}return{min:Math.sqrt(s[0]/10)+n,max:Math.sqrt(s[1]/10)+n}},_.calculate=function(e,t,r,s,n,a){if(!e||!t)return 0;t instanceof v||(t=m.db.ships[t]);var o=0,u={main:0,secondary:0,torpedo:0,torpedoLateModel:0,seaplane:0,apshell:0,radar:0,radarAA:0,radarSurface:0,submarineEquipment:0,carrierFighterNight:0,torpedoBomberNight:0,aviationPersonnelNight:0,surfaceShipPersonnel:0},p=S(t.slot),l=0;r=r.map(function(e){return e?e instanceof y?e:m.db.equipments?m.db.equipments[e]:m.db.items[e]:null})||[],s=s||[],n=n||[],a=a||{},r.forEach(function(e){e&&(I.MainGuns.indexOf(e.type)>-1?u.main+=1:I.SecondaryGuns.indexOf(e.type)>-1?u.secondary+=1:I.Torpedos.indexOf(e.type)>-1?(u.torpedo+=1,e.name.ja_jp.indexOf("後期型")>-1&&(u.torpedoLateModel+=1)):I.Seaplanes.indexOf(e.type)>-1?u.seaplane+=1:I.APShells.indexOf(e.type)>-1?u.apshell+=1:I.Radars.indexOf(e.type)>-1?(u.radar+=1,e.stat.aa&&(u.radarAA+=1),e.stat.hit&&e.stat.hit>=3&&(u.radarSurface+=1)):I.SubmarineEquipment==e.type?u.submarineEquipment+=1:I.AviationPersonnels.indexOf(e.type)>-1?e.name.ja_jp.indexOf("夜間")>-1&&(u.aviationPersonnelNight+=1):I.SurfaceShipPersonnels.indexOf(e.type)>-1&&(u.surfaceShipPersonnel+=1),e.type_ingame&&(45===e.type_ingame[3]?u.carrierFighterNight+=1:46===e.type_ingame[3]&&(u.torpedoBomberNight+=1)))});var c=i(t,r,s,n);switch(e){case"fighterPower":return l=0,p.map(function(e,i){if(r[i]&&I.Fighters.indexOf(r[i].type)>-1&&e){if(l=Math.sqrt(e)*(r[i].getStat("aa",t)||0),I.CarrierFighters.includes(r[i].type))switch(n[i]){case 1:case"1":l+=1;break;case 2:case"2":l+=4;break;case 3:case"3":l+=6;break;case 4:case"4":l+=11;break;case 5:case"5":l+=16;break;case 6:case"6":l+=17;break;case 7:case"7":l+=25}else if(-1==I.Recons.indexOf(r[i].type)){var s=r[i].type==I.SeaplaneBomber?9:3;l+=1==n[i]?1:s/6*(n[i]-1)}o+=Math.floor(l)}}),o;case"fighterPower_v2":return _.calcByShip.fighterPower_v2(t,r,s,n);case"shelling":case"shellingDamage":return _.shipType.Submarines.indexOf(t.type)>-1?"-":(o=_.calcByShip.shellingPower(t,r,s,n,{},c))&&o>-1?Math.floor(o):"-";case"torpedo":case"torpedoDamage":return(o=function(e){return _.calcByShip.torpedoPower(t,r,s,n,e,c)}())&&o>-1?Math.floor(o):"-";case"nightBattle":var f=_.calcByShip.nightPower(t,r,s,n,{},u,c);return f.damage<=0?"-":f.value;case"addHit":return p.map(function(e,i){r[i]&&(o+=r[i].getStat("hit",t)||0)}),(o+=c.hit||0)>=0?"+"+o:o;case"addArmor":return p.map(function(e,i){r[i]&&(o+=r[i].getStat("armor",t)||0)}),o+(c.armor||0);case"addEvasion":return p.map(function(e,i){r[i]&&(o+=r[i].getStat("evasion",t)||0)}),o+(c.evasion||0);case"losPower":return _.calcByShip.losPower(t,r,s,n,a);default:return _.calcByShip[e](t,r,s,n,a,c)}},_.shellingDamage=function(e,i,t,r){return this.calculate("shellingDamage",e,i,t,r)},_.torpedoDamage=function(e,i,t,r){return this.calculate("torpedoDamage",e,i,t,r)},_.fighterPower=function(e,i,t,r){return this.calculate("fighterPower",e,i,t,r)},_.fighterPower_v2=function(e,i,t,r){return this.calculate("fighterPower_v2",e,i,t,r)},_.nightBattle=function(e,i,t,r){return this.calculate("nightBattle",e,i,t,r)},_.addHit=function(e,i,t,r){return this.calculate("addHit",e,i,t,r)},_.addArmor=function(e,i,t,r){return this.calculate("addArmor",e,i,t,r)},_.addEvasion=function(e,i,t,r){return this.calculate("addEvasion",e,i,t,r)},_.losPower=function(e,i,t,r,s){return this.calculate("losPower",e,i,t,r,s)},_.calc.losPower=function(e){var i=["(Intercept)","DiveBombers","TorpedoBombers","CarrierRecons","SeaplaneRecons","SeaplaneBombers","SmallRadars","LargeRadars","Searchlights","statLos","hqLv"],t={"(Intercept)":0,DiveBombers:1.03745043134563,TorpedoBombers:1.3679056374142,CarrierRecons:1.65940512636315,SeaplaneRecons:2,SeaplaneBombers:1.77886368594467,SmallRadars:1.0045778494921,LargeRadars:.990738063979571,Searchlights:.906965144360512,statLos:1.6841895400986,hqLv:-.614246711531445},r={"(Intercept)":4.66445565766347,DiveBombers:.0965028505325845,TorpedoBombers:.108636184978525,CarrierRecons:.0976055279516298,SeaplaneRecons:.0866229392463539,SeaplaneBombers:.0917722496848294,SmallRadars:.0492773648320346,LargeRadars:.0491221486053861,Searchlights:.0658283797225724,statLos:.0781594211213618,hqLv:.0369222352426548},s={"(Intercept)":{"(Intercept)":1,DiveBombers:-.147020064768061,TorpedoBombers:-.379236131621529,CarrierRecons:-.572858669501918,SeaplaneRecons:-.733913857017495,SeaplaneBombers:-.642621825152428,SmallRadars:-.674829588068364,LargeRadars:-.707418111752863,Searchlights:-.502304601556193,statLos:-.737374218573832,hqLv:-.05071933950163},DiveBombers:{"(Intercept)":-.147020064768061,DiveBombers:1,TorpedoBombers:.288506347076736,CarrierRecons:.365820372770994,SeaplaneRecons:.425744409856409,SeaplaneBombers:.417783698791503,SmallRadars:.409046013184429,LargeRadars:.413855653833994,Searchlights:.308730607324667,statLos:.317984916914851,hqLv:-.386740224500626},TorpedoBombers:{"(Intercept)":-.379236131621529,DiveBombers:.288506347076736,TorpedoBombers:1,CarrierRecons:.482215071254241,SeaplaneRecons:.584455876852325,SeaplaneBombers:.558515133495825,SmallRadars:.547260012897553,LargeRadars:.560437619378443,Searchlights:.437934879351188,statLos:.533934507932748,hqLv:-.405349979885748},CarrierRecons:{"(Intercept)":-.572858669501918,DiveBombers:.365820372770994,TorpedoBombers:.482215071254241,CarrierRecons:1,SeaplaneRecons:.804494553748065,SeaplaneBombers:.75671307047535,SmallRadars:.748420581669228,LargeRadars:.767980338133817,Searchlights:.589651513349878,statLos:.743851348255527,hqLv:-.503544281376776},SeaplaneRecons:{"(Intercept)":-.733913857017495,DiveBombers:.425744409856409,TorpedoBombers:.584455876852325,CarrierRecons:.804494553748065,SeaplaneRecons:1,SeaplaneBombers:.932444440578382,SmallRadars:.923988080549326,LargeRadars:.94904944359066,Searchlights:.727912987329348,statLos:.944434077970518,hqLv:-.614921413821462},SeaplaneBombers:{"(Intercept)":-.642621825152428,DiveBombers:.417783698791503,TorpedoBombers:.558515133495825,CarrierRecons:.75671307047535,SeaplaneRecons:.932444440578382,SeaplaneBombers:1,SmallRadars:.864289865445084,LargeRadars:.886872388674911,Searchlights:.68310647756898,statLos:.88122333327317,hqLv:-.624797255805045},SmallRadars:{"(Intercept)":-.674829588068364,DiveBombers:.409046013184429,TorpedoBombers:.547260012897553,CarrierRecons:.748420581669228,SeaplaneRecons:.923988080549326,SeaplaneBombers:.864289865445084,SmallRadars:1,LargeRadars:.872011318623459,Searchlights:.671926570242336,statLos:.857213501657084,hqLv:-.560018086758868},LargeRadars:{"(Intercept)":-.707418111752863,DiveBombers:.413855653833994,TorpedoBombers:.560437619378443,CarrierRecons:.767980338133817,SeaplaneRecons:.94904944359066,SeaplaneBombers:.886872388674911,SmallRadars:.872011318623459,LargeRadars:1,Searchlights:.690102027588321,statLos:.883771367337743,hqLv:-.561336967269448},Searchlights:{"(Intercept)":-.502304601556193,DiveBombers:.308730607324667,TorpedoBombers:.437934879351188,CarrierRecons:.589651513349878,SeaplaneRecons:.727912987329348,SeaplaneBombers:.68310647756898,SmallRadars:.671926570242336,LargeRadars:.690102027588321,Searchlights:1,statLos:.723228553177704,hqLv:-.518427865593732},statLos:{"(Intercept)":-.737374218573832,DiveBombers:.317984916914851,TorpedoBombers:.533934507932748,CarrierRecons:.743851348255527,SeaplaneRecons:.944434077970518,SeaplaneBombers:.88122333327317,SmallRadars:.857213501657084,LargeRadars:.883771367337743,Searchlights:.723228553177704,statLos:1,hqLv:-.620804120587684},hqLv:{"(Intercept)":-.05071933950163,DiveBombers:-.386740224500626,TorpedoBombers:-.405349979885748,CarrierRecons:-.503544281376776,SeaplaneRecons:-.614921413821462,SeaplaneBombers:-.624797255805045,SmallRadars:-.560018086758868,LargeRadars:-.561336967269448,Searchlights:-.518427865593732,statLos:-.620804120587684,hqLv:1}},n={DiveBombers:0,TorpedoBombers:0,CarrierRecons:0,SeaplaneRecons:0,SeaplaneBombers:0,SmallRadars:0,LargeRadars:0,Searchlights:0,statLos:1,hqLv:1};for(var a in e)n[a]=e[a];return function(e){void 0===e["(Intercept)"]&&(e["(Intercept)"]=1),e.hqLv=5*Math.ceil(e.hqLv/5);var n={},a=0,o={},u=0;return i.forEach(function(i){var s=e[i]*t[i];n[i]=s,a+=s,o[i]=e[i]*r[i]}),i.forEach(function(e){i.forEach(function(i){u+=o[e]*o[i]*s[e][i]})}),{x_estimate:n,y_estimate:a,x_std_error:o,y_std_error:u}}(n)},_.calc.los33=function(e){if(e){var i=0,t=0,r={TorpedoBombers:.8,CarrierRecons:1,ReconSeaplane:1.2,ReconSeaplaneNight:1.2,SeaplaneBomber:1.1};return Object.defineProperty(r,"default",{value:.6,enumerable:!1,configurable:!1,writable:!1}),e.equipments.forEach(function(e){if(e.id){var t=D(e.id);if(t.stat.los){var s=r.default,n=e.star||0;for(var a in r)(Array.isArray(I[a])?I[a]:[I[a]]).indexOf(t.type)>-1&&(s=r[a]);i+=s*(t.stat.los+_.getStarBonus(t,"los",n))}}}),e.ships.forEach(function(e){var i=C(e.id),r=i.getAttribute("los",Math.max(e.lv||1,i.getMinLv()));t+=Math.sqrt(Math.max(r,1))}),i+t-Math.ceil(.4*e.hq)+2*(6-e.ships.length)}},_.calc.TP=function(e){var i=0,t=(e=e||{}).ship||{},r=e.equipment||{};for(var s in t){var n=0;switch(s){case 1:case"1":case 19:case"19":case"dd":n=5;break;case 2:case"2":case 28:case"28":case"cl":n=2;break;case 21:case"21":case"ct":n=6;break;case 5:case"5":case"cav":n=4;break;case 8:case"8":case 33:case"33":case"bbv":n=7;break;case 12:case"12":case 24:case"24":case"av":n=9.5;break;case 14:case"14":case"ssv":n=1;break;case 15:case"15":case"lha":n=12;break;case 29:case"29":case"ao":n=15;break;case 17:case"17":case"as":n=7}i+=n*(parseInt(t[s])||0)}for(var a in r){var o=0,u=parseInt(a),p=void 0;switch(u){case 145:case 150:o=1;break;case 75:o=5;break;case 68:case 193:case 166:o=8;break;case 167:o=2;break;default:switch((p=D(u)).type){case _.equipmentType.LandingCraft:p.name.ja_jp.indexOf("大発動艇")>-1&&(o=8)}}i+=o*(parseInt(r[a])||0)}return i},_.calc.fighterPower=function(e,i,t,r){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!e)return[0,0];e=e instanceof y?e:m.db.equipments?m.db.equipments[e]:m.db.items[e],i=i||0,t=t||0,r=r||0;var n=s.isFromField,a=[0,0];if(i&&(void 0!==n&&n||I.Fighters.indexOf(e.type)>-1)){var o=((e.stat.aa||0)+(I.isInterceptor(e)?1.5*e.stat.evasion:0)+r*_.getStarMultiplier(e.type,"fighter"))*Math.sqrt(i),u=_.getFighterPowerRankMultiper(e,t),p=u.min,l=u.max;a[0]+=Math.floor(o+p),a[1]+=Math.floor(o+l)}return a},_.calc.fighterPowerAA=function(e,i,t,r){if(!e)return[0,0];e=D(e),i=i||0,t=t||0,r=r||0;var s=[0,0];if(i){var n=((e.stat.aa||0)+(I.isInterceptor(e)?e.stat.evasion:0)+(I.isInterceptor(e)?2*e.stat.hit:0)+r*_.getStarMultiplier(e.type,"fighter"))*Math.sqrt(i),a=_.getFighterPowerRankMultiper(e,t,{isAA:!0});s[0]+=Math.floor(n+a.min),s[1]+=Math.floor(n+a.max)}return s},_.calcByShip.shellingPower=function(e,t,r,s,n,a){n=n||{},a=a||i(e,t,r,s);var o=0,u=!1,p=S(e.slot);if(_.shipType.Carriers.indexOf(e.type)>-1?u=!0:[33].includes(e.type)||t.some(function(e){if(e&&!u&&I.CarrierBased.indexOf(e.type)>-1)return u=!0,!0}),u&&!n.isNight){var l=0,c=0;return p.map(function(i,s){if(t[s]){var n=t[s];o+=1.5*n.getStat("fire",e)||0,I.TorpedoBombers.indexOf(n.type)>-1&&(l+=n.getStat("torpedo",e)||0),c+=n.getStat("bomb",e)||0,I.SecondaryGuns.indexOf(n.type)>-1&&(o+=Math.sqrt(1.5*(r[s]||0)))}}),l||c?o+=Math.floor(1.5*(Math.floor(1.3*c)+l+e.stat.fire_max+(a.fire||0)))+50:-1}o=e.stat.fire_max||0;var f={CLMainGunNaval:0,CLMainGunTwin:0,ItalianCAMainGun:0};p.map(function(i,s){if(t[s]){var a=t[s];o+=a.getStat("fire",e)||0,_.shipType.LightCruisers.indexOf(e.type)>-1&&!a.name.ja_jp.includes("Bofors")&&(["14cm単装砲","15.2cm単装砲"].forEach(function(e){a.name.ja_jp.includes(e)&&(f.CLMainGunNaval+=1)}),["14cm連装砲","15.2cm連装砲"].forEach(function(e){a.name.ja_jp.includes(e)&&(f.CLMainGunTwin+=1)})),"rm"===e._navy&&a.name.ja_jp.includes("203mm/53")&&(f.ItalianCAMainGun+=1),r[s]&&!n.isNight&&(o+=_.getStarBonus(a,"shelling",r[s]))}});var h=0+2*Math.sqrt(f.CLMainGunTwin)+Math.sqrt(f.CLMainGunNaval)+Math.sqrt(f.ItalianCAMainGun)+(a.fire||0);return o+h},_.calcByShip.torpedoPower=function(e,t,r,s,n,a){n=n||{},a=a||i(e,t,r,s);var o=0,u=S(e.slot);return _.shipType.Carriers.indexOf(e.type)>-1&&!n.isNight?n.returnZero?0:-1:(o=(e.stat.torpedo_max||0)+(a.torpedo||0),u.map(function(i,s){if(t[s]){var a=t[s];o+=I.TorpedoBombers.indexOf(a.type)>-1&&!n.isNight?0:a.getStat("torpedo",e)||0,r[s]&&!n.isNight&&(o+=_.getStarBonus(a,"torpedo",r[s]))}}),o)},_.calcByShip.nightPower=function(e,r,s,n,a,o,u){a=a||{},u=u||i(e,r,s,n);var p={damage:0},l=0,c=S(e.slot);if([9,10,11,30,32].includes(e.type)&&(o.aviationPersonnelNight||e.getCapability("count_as_night_operation_aviation_personnel"))&&(o.carrierFighterNight>=1||o.torpedoBomberNight>=1))Object.assign(p,t(104)({ship:e,equipments:r,equipmentStars:s,equipmentRanks:n,bonus:u,count:o}));else if(e.getCapability("participate_night_battle_when_equip_swordfish"))p.damage+=e.stat.fire_max+(u.fire||0)+e.stat.torpedo_max+(u.torpedo||0),c.forEach(function(i,t){var s=r[t];r[t]&&I.TorpedoBombers.indexOf(s.type)>-1&&s.name.ja_jp.indexOf("Swordfish")>-1&&(p.damage+=s.getStat("fire",e)+s.getStat("torpedo",e))}),p.type="通常",p.damage=Math.floor(p.damage),p.hit=1;else{if(e.stat.fire+e.stat.torpedo<=0)return{damage:0};var f={};c.forEach(function(e,i){if(r[i]&&(s[i]&&(l+=_.getStarBonus(r[i],"night",s[i])),r[i])){var t=r[i];f[t.id]?f[t.id]++:f[t.id]=1}}),p.damage=_.calcByShip.shellingPower(e,r,s,n,{isNight:!0},u)+_.calcByShip.torpedoPower(e,r,s,n,{isNight:!0,returnZero:!0},u)+l+(u.nightExtra||0),_.shipType.Submarines.indexOf(e.type)>-1&&o.torpedoLateModel>=1&&o.submarineEquipment>=1?(p.type="雷击CI",p.damage=Math.floor(1.75*p.damage),p.hit=2):_.shipType.Submarines.indexOf(e.type)>-1&&o.torpedoLateModel>=2?(p.type="雷击CI",p.damage=Math.floor(1.6*p.damage),p.hit=2):o.torpedo>=2?(p.type="雷击CI",p.damage=Math.floor(1.5*p.damage),p.hit=2):o.main>=3?(p.type="炮击CI",p.damage=Math.floor(2*p.damage),p.hit=1):2==o.main&&o.secondary>=1?(p.type="炮击CI",p.damage=Math.floor(1.75*p.damage),p.hit=1):_.shipType.Destroyers.indexOf(e.type)>-1&&o.torpedo>=1&&o.radarSurface>=1&&o.surfaceShipPersonnel>=1?(p.type="电探CI",p.damage=Math.floor(1.25*p.damage),p.hit=1):_.shipType.Destroyers.indexOf(e.type)>-1&&o.torpedo>=1&&o.radarSurface>=1&&o.main>=1?(p.type="电雷CI",p.damage=f[267]?Math.floor(1.625*p.damage):Math.floor(1.3*p.damage),p.hit=1):o.main>=1&&1==o.torpedo?(p.type="炮雷CI",p.damage=Math.floor(1.3*p.damage),p.hit=2):2==o.main&&o.secondary<=0&&o.torpedo<=0||1==o.main&&o.secondary>=1&&o.torpedo<=0||0==o.main&&o.secondary>=2&&o.torpedo>=0?(p.type="连击",p.damage=Math.floor(1.2*p.damage),p.hit=2):(p.type="通常",p.damage=Math.floor(p.damage),p.hit=1)}var h=" ";if(p.isMax&&(h=" ≤ "),p.isMin&&(h=" ≥ "),p.value=""+p.type+h+p.damage,p.hit&&p.hit>1&&(p.value+=" x "+p.hit),Array.isArray(p.cis)&&p.cis.length)p.value+=" (CI"+h+p.cis.sort(function(e,i){return e[0]-i[0]}).map(function(e){return e[0]+(e[1]&&e[1]>1?" x "+e[1]:"")}).join(" 或 ")+")";else if(p.damage_ci){var m=p.hit_ci||p.hit||1;p.value+=" (CI"+h+p.damage_ci+")",m&&m>1&&(p.value+=" x "+m)}return p},_.calcByShip.fighterPower_v2=function(e,i,t,r){var s=[0,0];return S(e.slot).map(function(e,n){var a=_.calc.fighterPower(i[n],e,r[n]||0,t[n]||0);s[0]+=a[0],s[1]+=a[1]}),s},_.calcByShip.losPower=function(e,i,t,r,s){(s=s||{}).shipLv=s.shipLv||1,s.hqLv=s.hqLv||1,s.shipLv<0&&(s.shipLv=1),s.hqLv<0&&(s.hqLv=1);var n={DiveBombers:0,TorpedoBombers:0,CarrierRecons:0,SeaplaneRecons:0,SeaplaneBombers:0,SmallRadars:0,LargeRadars:0,Searchlights:0,statLos:Math.sqrt(e.getAttribute("los",s.shipLv)),hqLv:s.hqLv};return i.forEach(function(e){if(e)for(var i in n)I[i]&&I[i].push&&I[i].indexOf(e.type)>-1&&(n[i]+=e.stat.los)}),_.calc.losPower(n)},_.calcByShip.TP=function(e,i){if(!e||!i||!i.push)return 0;e=C(e);var t={ship:{},equipment:{}};return t.ship[e.type]=1,i.forEach(function(e){if(e){var i="number"==typeof e?e:D(e).id;t.equipment[i]||(t.equipment[i]=0),t.equipment[i]++}}),e.getCapability("count_as_landing_craft")&&(t.equipment[68]||(t.equipment[68]=0),t.equipment[68]++),_.calc.TP(t)},_.calcByShip.speed=function(e,i,t,s,n){if(!e)return"";if("object"===(void 0===t?"undefined":r(t))&&t.push)return _.calcByShip.speed(e,i,[],[],t);if("object"===(void 0===s?"undefined":r(s))&&s.push)return _.calcByShip.speed(e,i,t,[],s);e=C(e),i=i||[],n=n||{};var a=parseInt(e.stat.speed),o=function(e){return e=Math.min(20,e||a),n.returnNumber?e:m.statSpeed[e]},u={33:0,34:0,87:0},p=e._speedRule||"low-2",l=0;if(i.forEach(function(e){if(e){var i="number"==typeof e?e:D(e).id;void 0!==u[""+i]&&u[""+i]++}}),!u[33])return o();switch(p){case"low-1":l=u[34]&&!u[87]?.5:u[34]>=2&&u[87]?1.5:.3*Math.min(u[34],1)+.7*u[87];break;case"low-2":case"high-3":(u[34]||u[87])&&(l=Math.min(1,u[34]/3+.5*u[87]));break;case"low-3":case"high-4":(u[34]||u[87])&&(a+=5);break;case"high-1":l=.5*u[34]+1*u[87];break;case"high-2":l=.5*u[34]+.5*u[87];break;case"low-4":l=.5}return l>0&&l<1?a+=5:l>=1&&l<1.5?a+=10:l>=1.5&&(a+=15),o()},_.calcByShip.fireRange=function(e,t,r,s,n,a){if(!e)return"-";t=t||[],n=n||{},a=a||i(e,t,r,s);var o=parseInt(e.stat.range);return t.forEach(function(e){e&&(o=Math.max(o,D(e).stat.range||0))}),isNaN(a.range)||(o+=parseInt(a.range)),m.statRange[Math.min(4,o)]},_.calcByFleet.los33=function(e,i){var t=[],r=[];return e.forEach(function(e){if(Array.isArray(e)){var i=e[0];if(i){var s=e[2],n=e[3],a=e[4];r.push({id:i,lv:e[1][0]}),s.forEach(function(e,i){t.push({id:e,star:n[i],rank:a[i]})})}}}),_.calc.los33({hq:i,equipments:t,ships:r})},_.calcByField.fighterPower=function(e){var i=[0,0],t=1,r=function(e){return t=Math.max(e,t)};return e.forEach(function(e){var t=D(e[0]||e.equipment||e.equipmentId),s=e[1]||e.star||0,n=e[2]||e.rank||0,a=e[3]||e.carry||0;a||(a=_.equipmentType.Recons.indexOf(t.type)>-1?m.planesPerSlotLBAS.recon:m.planesPerSlotLBAS.attacker);var o=_.calc.fighterPower(t,a,n,s,{isFromField:!0});if(i[0]+=o[0],i[1]+=o[1],312==t.id)r(1.18);else switch(t.type){case I.LandBasedRecon:r(1.15)}}),i[0]=i[0]*t,i[1]=i[1]*t,i},_.calcByField.fighterPowerAA=function(e){var i=[0,0],t=1;function r(e){return t=Math.max(e,t)}return e.forEach(function(e){var t=D(e[0]||e.equipment||e.equipmentId),s=e[1]||e.star||0,n=e[2]||e.rank||0,a=e[3]||e.carry||0;a||(a=_.equipmentType.Recons.indexOf(t.type)>-1?m.planesPerSlotLBAS.recon:m.planesPerSlotLBAS.attacker);var o=_.calc.fighterPowerAA(t,a,n,s,{isFromField:!0});switch(i[0]+=o[0],i[1]+=o[1],t.type){case I.CarrierRecon:case I.CarrierRecon2:t.stat.los<=7?r(1.2):t.stat.los>=9?r(1.3):r(1.25);break;case I.ReconSeaplane:case I.ReconSeaplaneNight:case I.LargeFlyingBoat:t.stat.los<=7?r(1.1):t.stat.los>=9?r(1.16):r(1.13);break;case I.LandBasedRecon:r(1.18)}}),i[0]=i[0]*t,i[1]=i[1]*t,i},_.getBonus=function(e,t,r,s,n){return i(e,t,r,s,n)},Array.prototype.indexOf||(Array.prototype.indexOf=function(e,i){var t;if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this),s=r.length>>>0;if(0===s)return-1;var n=+i||0;if(Math.abs(n)===1/0&&(n=0),n>=s)return-1;for(t=Math.max(n>=0?n:s-Math.abs(n),0);t<s;){if(t in r&&r[t]===e)return t;t++}return-1}),m.Entity=b,m.Equipment=y,m.Ship=v,m.Consumable=g,m.formula=_,m}()},function(e,i,t){"use strict";var r=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};function s(e){if(Array.isArray(e)){for(var i=0,t=Array(e.length);i<e.length;i++)t[i]=e[i];return t}return Array.from(e)}var n=t(12),a=[].concat(s(t(13)),s(t(14)),s(t(15)),s(t(16)),s(t(17)),s(t(18)),s(t(19)),s(t(20)),s(t(21)),s(t(22)),s(t(23)),s(t(24)),s(t(25)),s(t(26)),s(t(27)),s(t(28)),s(t(29)),s(t(30)),s(t(31)),s(t(35)),s(t(36)),s(t(37)),s(t(38)),s(t(39)),s(t(40)),s(t(41)),s(t(42)),s(t(43)),s(t(44)),s(t(45)),s(t(46)),s(t(47)),s(t(48)),s(t(49)),s(t(50)),s(t(51)),s(t(52)),s(t(53)),s(t(54)),s(t(55)),s(t(56)),s(t(57)),s(t(58)),s(t(59)),s(t(60)),s(t(61)),s(t(62)),s(t(63)),s(t(64)),s(t(65)),s(t(66)),s(t(67)),s(t(68)),s(t(69)),s(t(70)),s(t(71)),s(t(72)),s(t(73)),s(t(74)),s(t(75)),s(t(76)),s(t(77)),s(t(78)),s(t(79)),s(t(80)),s(t(81)),s(t(83)),s(t(84)),s(t(85)),s(t(86)),s(t(87)),s(t(88)),s(t(89)),s(t(90)),s(t(91)),s(t(92)),s(t(93)),s(t(94)),s(t(95)),s(t(96))),o=a.filter(n);o.forEach(function(e,i){e.list.every(function(e){return!isNaN(e)})&&o.forEach(function(t,s){i===s||e.list.length>=t.list.length||!e.list.every(function(e){return t.list.includes(e)})||(t.bonusAccumulate||(t.bonusAccumulate=r({},t.bonus||{})),Object.keys(e.bonus).forEach(function(i){void 0===t.bonusAccumulate[i]&&(t.bonusAccumulate[i]=0),t.bonusAccumulate[i]+=e.bonus[i]}))})}),e.exports=a},function(e,i,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return"object"===(void 0===e?"undefined":r(e))&&("object"===r(e.equipments)||"object"===r(e.list))}},function(e,i,t){"use strict";e.exports=[{equipment:293,ship:{isClass:[92,94]},bonus:{fire:1,aa:1,evasion:2}},{equipment:293,ship:{isClass:[84,12]},bonus:{fire:2,aa:1,evasion:3}},{list:[293,"SurfaceRadar"],equipments:{hasID:[293],hasSurfaceRadar:!0},ship:{isClass:[92,94]},bonus:{fire:2,evasion:3,asw:1}},{list:[293,"SurfaceRadar"],equipments:{hasID:[293],hasSurfaceRadar:!0},ship:{isClass:[84,12]},bonus:{fire:2,torpedo:1,evasion:3}},{list:[293,174],equipments:[{isID:293},{isID:174}],ship:{isClass:[84,12]},bonus:{fire:2,torpedo:4}},{list:[293,174,174],equipments:[{isID:293},{isID:174},{isID:174}],ship:{isClass:[84,12]},bonus:{fire:1,torpedo:3}}]},function(e,i,t){"use strict";var r=t(0).CL_NagaraClass2ndRemodel;e.exports=[{equipment:229,ship:{isType:[31]},bonusImprove:{7:{fire:1,aa:1}}},{equipment:229,ship:{isClass:[84,12]},bonusImprove:{7:{fire:1,aa:1}}},{equipment:229,ship:{isID:[487]},bonusImprove:{7:{fire:2,aa:2}}},{equipment:229,ship:{isID:[488]},bonusImprove:{7:{fire:2,aa:3}}},{list:[{id:229,star:10},"SurfaceRadar"],equipments:[{isID:229,improvement:7},{isSurfaceRadar:!0}],ship:{isType:[31]},bonus:{fire:1,evasion:4}},{list:[{id:229,star:10},"SurfaceRadar"],equipments:[{isID:229,improvement:7},{isSurfaceRadar:!0}],ship:{isClass:[84,12]},bonus:{fire:2,evasion:3}},{list:[{id:229,star:10},"SurfaceRadar"],equipments:[{isID:229,improvement:7},{isSurfaceRadar:!0}],ship:{isID:r},bonus:{fire:3,evasion:2}}]},function(e,i,t){"use strict";var r=t(1),s=r.DD_Fubuki,n=r.DD_Ayanami,a=r.DD_Akatsuki;e.exports=[{equipment:297,ship:{isClass:[n,a]},bonus:{evasion:1}},{equipment:297,ship:{isClass:[s]},bonus:{evasion:2}}]},function(e,i,t){"use strict";var r=t(1).group_DD_Tokugata;e.exports=[{equipment:294,ship:{isClass:r},bonus:{fire:1}},{list:[294,"SurfaceRadar"],equipments:{hasID:[294],hasSurfaceRadar:!0},ship:{isClass:r},bonus:{fire:3,torpedo:1,evasion:2}},{list:[294,125],equipments:[{isID:294},{isID:125}],ship:{isClass:r},bonus:{fire:1,torpedo:3}},{list:[294,125,125],equipments:[{isID:294},{isID:125},{isID:125}],ship:{isClass:r},bonus:{fire:1,torpedo:2}},{list:[294,285],equipments:[{isID:294},{isID:285}],ship:{isClass:r},bonus:{fire:1,torpedo:4}},{list:[294,285,285],equipments:[{isID:294},{isID:285},{isID:285}],ship:{isClass:r},bonus:{fire:1,torpedo:2}}]},function(e,i,t){"use strict";var r=t(1).group_DD_Tokugata;e.exports=[{equipment:295,ship:{isClass:r},bonus:{fire:2,aa:2}},{list:[295,"SurfaceRadar"],equipments:{hasID:[295],hasSurfaceRadar:!0},ship:{isClass:r},bonus:{fire:3,torpedo:1,evasion:2}},{list:[295,"AARadar"],equipments:{hasID:[295],hasAARadar:!0},ship:{isClass:r},bonus:{aa:6}},{list:[295,125],equipments:[{isID:295},{isID:125}],ship:{isClass:r},bonus:{fire:1,torpedo:3}},{list:[295,125,125],equipments:[{isID:295},{isID:125},{isID:125}],ship:{isClass:r},bonus:{torpedo:2}},{list:[295,285],equipments:[{isID:295},{isID:285}],ship:{isClass:r},bonus:{fire:1,torpedo:4}},{list:[295,285,285],equipments:[{isID:295},{isID:285},{isID:285}],ship:{isClass:r},bonus:{torpedo:2}},{list:[295,125,285],equipments:[{isID:295},{isID:125},{isID:285}],ship:{isClass:r},bonus:{torpedo:-1}}]},function(e,i,t){"use strict";function r(e){if(Array.isArray(e)){for(var i=0,t=Array(e.length);i<e.length;i++)t[i]=e[i];return t}return Array.from(e)}var s=t(0),n=s.DD_AyanamiClassRemodelAll,a=s.DD_AkatsukiClassRemodelAll,o=s.DD_HatsuharuClassRemodelAll;e.exports=[{equipment:63,ship:{isID:[].concat(r(n),r(a),r(o))},bonus:{aa:1}},{equipment:63,ship:{isID:[242,497,498]},bonus:{evasion:1}},{equipment:63,ship:{isID:[145]},bonus:{fire:1}},{equipment:63,ship:{isID:[469]},bonus:{evasion:2}},{equipment:63,ship:{isID:[144]},bonus:{fire:1,torpedo:1,aa:1,evasion:2}}]},function(e,i,t){"use strict";var r=t(0).DD_ShiratsuyuClass2ndRemodel,s=t(1),n=s.DD_Ayanami,a=s.DD_Akatsuki,o=s.DD_Hatsuharu,u=s.DD_Shiratsuyu,p=[n,a,u],l=[n,a,o];e.exports=[{equipment:296,ship:{isClass:p,isNotID:r},bonus:{fire:1}},{equipment:296,ship:{isClass:[o]},bonus:{fire:1,evasion:1}},{equipment:296,ship:{isID:[497]},bonus:{fire:2,evasion:2}},{equipment:296,ship:{isID:[145]},bonus:{fire:2,aa:1,evasion:1}},{equipment:296,ship:{isID:[498]},bonus:{fire:1,aa:1,evasion:2}},{equipment:296,ship:{isID:[144]},bonus:{fire:2,torpedo:1,evasion:1}},{equipment:296,ship:{isID:[587,469]},bonus:{fire:1,evasion:2}},{list:[296,"SurfaceRadar"],equipments:{hasID:[296],hasSurfaceRadar:!0},ship:{isClass:l},bonus:{fire:1,torpedo:2,evasion:2}},{list:[296,"SurfaceRadar"],equipments:{hasID:[296],hasSurfaceRadar:!0},ship:{isClass:[u]},bonus:{fire:1,torpedo:3,evasion:2}},{list:[296,"AARadar"],equipments:{hasID:[296],hasAARadar:!0},ship:{isClass:l},bonus:{aa:5}},{list:[296,"AARadar"],equipments:{hasID:[296],hasAARadar:!0},ship:{isClass:[u]},bonus:{aa:6}},{list:[296,285],equipments:[{isID:296},{isID:285}],ship:{isClass:l},bonus:{fire:1,torpedo:3}},{list:[296,286],equipments:[{isID:296},{isID:286}],ship:{isClass:[u]},bonus:{fire:1,torpedo:3}}]},function(e,i,t){"use strict";var r=t(0).DD_KagerouClass2ndRemodel,s=[145,228,557],n=r.concat(s);e.exports=[{equipment:266,ship:{isClass:[19,20,21],isNotID:n},bonus:{fire:1}},{equipment:266,ship:{isID:s},bonus:{fire:1,evasion:1}},{equipment:266,ship:{isID:r},bonusCount:{1:{fire:2},2:{fire:5},3:{fire:6}}},{list:[266,"SurfaceRadar"],equipments:{hasID:[266],hasSurfaceRadar:!0},ship:{isClass:[19,20]},bonus:{fire:1,torpedo:3,evasion:1}},{list:[266,"SurfaceRadar"],equipments:{hasID:[266],hasSurfaceRadar:!0},ship:{isClass:[21]},bonus:{fire:2,torpedo:3,evasion:1}}]},function(e,i,t){"use strict";var r=t(0),s=r.DD_KagerouClass2ndRemodel,n=r.DD_YuugumoClass2ndRemodel,a=r.DD_ShimakazeRemodel;e.exports=[{equipment:267,ship:{isClass:[21],isNotID:s},bonus:{fire:1,evasion:1}},{equipment:267,ship:{isClass:[22,24],isNotID:n},bonus:{fire:2,evasion:1}},{equipment:267,ship:{isID:s},bonusCount:{1:{fire:2,evasion:1},2:{fire:3,evasion:2},3:{fire:4,evasion:3}}},{equipment:267,ship:{isID:n},bonus:{fire:3,evasion:1}},{list:[267,"SurfaceRadar"],equipments:{hasID:[267],hasSurfaceRadar:!0},ship:{isID:a},bonus:{fire:1,torpedo:3,evasion:2}},{list:[267,"SurfaceRadar"],equipments:{hasID:[267],hasSurfaceRadar:!0},ship:{isClass:[22],isNotID:n},bonus:{fire:2,torpedo:3,evasion:1}},{list:[267,"SurfaceRadar"],equipments:{hasID:[267],hasSurfaceRadar:!0},ship:{isID:n},bonus:{fire:3,torpedo:4,evasion:3}}]},function(e,i,t){"use strict";var r=t(1).group_DD_Navy_USN;e.exports=[{equipment:313,ship:{isClass:r},bonus:{fire:2,aa:2,evasion:1,armor:1}}]},function(e,i,t){"use strict";var r=t(1).group_DD_Navy_USN;e.exports=[{equipment:308,ship:{isType:[1,19],isNotClass:r},bonus:{fire:1}},{equipment:308,ship:{isClass:r},bonus:{fire:2,aa:1,evasion:1}}]},function(e,i,t){"use strict";function r(e){if(Array.isArray(e)){for(var i=0,t=Array(e.length);i<e.length;i++)t[i]=e[i];return t}return Array.from(e)}var s=t(0),n=s.vmf_DD,a=s.Yuubari;e.exports=[{equipment:282,ship:{isID:[].concat(r(n),r(a))},bonus:{fire:2,armor:1}}]},function(e,i,t){"use strict";var r=t(1),s=r.CL_Yuubari,n=r.CT_Katori,a=r.AV_Nisshin;e.exports=[{equipment:119,ship:{isClass:[s,n]},bonus:{fire:1}},{equipment:119,ship:{isClass:[a]},bonus:{fire:2,torpedo:1}}]},function(e,i,t){"use strict";var r=t(1),s=r.CL_Yuubari,n=r.CT_Katori,a=r.AV_Nisshin;e.exports=[{equipment:310,ship:{isClass:[s]},bonus:{fire:2,aa:1,evasion:1}},{equipment:310,ship:{isClass:[n]},bonus:{fire:2,evasion:1}},{equipment:310,ship:{isClass:[a]},bonus:{fire:3,torpedo:2,aa:1,evasion:1}}]},function(e,i,t){"use strict";var r=t(1),s=r.CL_Kuma,n=r.CL_Nagara,a=r.CL_Sendai,o=r.CL_Agano,u=r.CLT_Kuma,p=r.CL_Gotland,l=r.CLV_Gotland;e.exports=[{equipment:303,ship:{isClass:[s,n,a,o,u]},bonus:{fire:1,aa:1}},{equipment:303,ship:{isClass:[p,l]},bonus:{fire:1,aa:2,evasion:1}}]},function(e,i,t){"use strict";var r=t(1),s=r.CL_Abruzzi,n=r.CL_Gotland,a=r.CLV_Gotland;e.exports=[{equipment:340,ship:{isClass:[s]},bonus:{fire:1,aa:1,evasion:1}},{equipment:341,ship:{isClass:[n,a]},bonus:{fire:1,aa:1,evasion:1}},{equipment:341,ship:{isClass:[s]},bonus:{fire:2,aa:1,evasion:1}}]},function(e,i,t){"use strict";var r=t(1),s=r.CA_Furutaka,n=r.CA_Aoba;e.exports=[{equipment:90,ship:{isID:[416,417,295]},bonus:{fire:1}},{equipment:90,ship:{isID:[264]},bonus:{fire:1,aa:1}},{equipment:90,ship:{isID:[142]},bonus:{fire:2,evasion:1}},{list:[90,"SurfaceRadar"],equipments:{hasID:[90],hasSurfaceRadar:!0},ship:{isClass:[s,n]},bonus:{fire:3,torpedo:2,evasion:2}},{list:[90,"AARadar"],equipments:{hasID:[90],hasAARadar:!0},ship:{isID:[264]},bonus:{aa:5,evasion:2}}]},function(e,i,t){"use strict";e.exports=[{equipment:104,ship:{isID:[149]},bonus:{fire:2}},{equipment:104,ship:{isID:[150,152]},bonus:{fire:1}},{equipment:104,ship:{isID:[151]},bonus:{fire:2,aa:1,evasion:2}}]},function(e,i,t){"use strict";function r(e){if(Array.isArray(e)){for(var i=0,t=Array(e.length);i<e.length;i++)t[i]=e[i];return t}return Array.from(e)}var s=t(2),n=s.Kongou,a=s.Hiei,o=s.Haruna,u=s.Kirishima,p=s.Ise,l=s.Hyuuga,c=s.Fusou,f=s.Yamashiro,h=t(0).BB_KongouClassRemodelAll;e.exports=[{equipment:328,ship:{isID:[].concat(r(n),r(a),r(o),r(u),r(p),r(l),r(c),r(f)).filter(function(e){return!h.includes(e)})},bonus:{fire:1}},{equipment:328,ship:{isID:h.filter(function(e){return 591!==e})},bonus:{fire:2,evasion:1}},{equipment:328,ship:{isID:[591]},bonus:{fire:3,torpedo:1,evasion:1}}]},function(e,i,t){"use strict";e.exports={Colorado:[601,1496],Kongou:[78,209,149,591],Hiei:[86,210,150],Haruna:[79,211,151],Kirishima:[85,212,152],Ise:[77,82,553],Hyuuga:[87,88,554],Fusou:[26,286,411],Yamashiro:[27,287,412]}},function(e,i,t){"use strict";e.exports={Akagi:[83,277,594,599],Kaga:[84,278],Souryuu:[90,279,197],Hiryuu:[91,280,196],Shoukaku:[110,288,461,466],Zuikaku:[111,112,462,467]}},function(e,i,t){"use strict";e.exports={Yuubari:[115,293],Katori:[154,343],Kashima:[465,356]}},function(e,i,t){"use strict";function r(e){if(Array.isArray(e)){for(var i=0,t=Array(e.length);i<e.length;i++)t[i]=e[i];return t}return Array.from(e)}var s=t(2),n=s.Kongou,a=s.Hiei,o=s.Haruna,u=s.Kirishima,p=s.Ise,l=s.Hyuuga,c=s.Fusou,f=s.Yamashiro,h=t(0),m=h.BB_KongouClassRemodel,d=h.BB_KongouClass2ndRemodel,b=h.BB_KongouClassRemodelAll;e.exports=[{equipment:329,ship:{isID:[].concat(r(n),r(a),r(o),r(u),r(p),r(l),r(c),r(f)).filter(function(e){return!b.includes(e)})},bonus:{fire:1}},{equipment:329,ship:{isID:m},bonus:{fire:2,evasion:1}},{equipment:329,ship:{isID:d.filter(function(e){return 591!==e})},bonus:{fire:3,aa:1,evasion:1}},{equipment:329,ship:{isID:[591]},bonus:{fire:4,torpedo:2,aa:1,evasion:1}}]},function(e,i,t){"use strict";e.exports=[{equipment:289,ship:{isID:[149]},bonus:{fire:2,aa:1}},{equipment:289,ship:{isID:[150,152]},bonus:{fire:1}},{equipment:289,ship:{isID:[151]},bonus:{fire:2,aa:2,evasion:2}},{list:[289,"SurfaceRadar"],equipments:{hasID:[289],hasSurfaceRadar:!0},ship:{isID:[149,151]},bonus:{fire:2,evasion:2}}]},function(e,i,t){"use strict";var r=t(0),s=r.BB_NagatoClass2ndRemodel,n=r.BB_IseClassRemodelAll,a=r.BB_FusouClass2ndRemodel;e.exports=[{equipment:318,ship:{isID:a},bonus:{fire:1}},{equipment:318,ship:{isID:n},bonus:{fire:2,aa:2,evasion:2}},{equipment:318,ship:{isID:s},bonus:{fire:3,aa:2,evasion:1}},{list:[318,290],equipments:{hasID:[318,290]},ship:{isID:n},bonus:{evasion:2,armor:1}},{list:[318,290],equipments:{hasID:[318,290]},ship:{isID:s},bonus:{fire:2,evasion:2,armor:1}},{list:[318,"AARadar"],equipments:{hasID:[318],hasAARadar:!0},ship:{isID:n},bonus:{aa:2,evasion:3}}]},function(e,i,t){"use strict";var r=t(0),s=r.BB_IseClassRemodel,n=r.BB_IseClass2ndRemodel,a=r.BB_IseClassRemodelAll,o=r.BB_FusouClass2ndRemodel;e.exports=[{equipment:290,ship:{isID:o},bonus:{fire:1}},{equipment:290,ship:{isID:s},bonus:{fire:2,aa:2,evasion:1}},{equipment:290,ship:{isID:n},bonus:{fire:3,aa:2,evasion:1}},{list:[290,"AARadar"],equipments:{hasID:[290],hasAARadar:!0},ship:{isID:a},bonus:{aa:2,evasion:3}}]},function(e,i,t){"use strict";function r(e){if(Array.isArray(e)){for(var i=0,t=Array(e.length);i<e.length;i++)t[i]=e[i];return t}return Array.from(e)}var s=t(0),n=s.BB_NagatoClassRemodel,a=s.BB_NagatoClass2ndRemodel,o=s.BB_NelsonClassRemodel,u=t(2).Colorado;e.exports=[{equipment:330,ship:{isID:[].concat(r(n),r(u))},bonus:{fire:1}},{equipment:330,ship:{isID:[].concat(r(a),r(o))},bonus:{fire:2}},{equipment:331,ship:{isID:[].concat(r(n),[601])},bonus:{fire:1}},{equipment:331,ship:{isID:[].concat(r(a),r(o))},bonus:{fire:2}},{equipment:331,ship:{isID:[1496]},bonus:{fire:2,evasion:1}},{equipment:332,ship:{isID:[].concat(r(n),[601])},bonus:{fire:1}},{equipment:332,ship:{isID:[].concat(r(a),r(o))},bonus:{fire:2}},{equipment:332,ship:{isID:[1496]},bonus:{fire:2,aa:1}}]},function(e,i,t){"use strict";var r=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},s=t(1),n=s.BB_QueenElizabeth,a={ship:{isClass:[s.BB_Nelson]},bonus:{fire:2,armor:1}},o={ship:{isClass:[n]},bonus:{fire:2,armor:1,evasion:-2}},u={ship:{isID:t(0).BB_KongouClass2ndRemodel.filter(function(e){return 591!==e})},bonus:{fire:1,armor:1,evasion:-3}},p=[];[298,299,300].forEach(function(e){p.push(r({equipment:e},u)),p.push(r({equipment:e},o)),p.push(r({equipment:e},a))}),e.exports=p},function(e,i,t){"use strict";var r=t(1).DD_Kamikaze;e.exports=[{equipment:174,ship:{isClass:[r]},bonus:{torpedo:1,evasion:2}},{equipment:174,ship:{isID:[591]},bonus:{torpedo:6,evasion:3}}]},function(e,i,t){"use strict";e.exports=[{equipment:67,ship:{canEquip:[12],isNotType:[13,14]},bonus:{torpedo:-5}}]},function(e,i,t){"use strict";var r=t(0).vmf_DD;e.exports=[{equipment:283,ship:{isID:r},bonus:{fire:1,torpedo:3,armor:1}}]},function(e,i,t){"use strict";var r=t(1).group_DD_Navy_USN;e.exports=[{equipment:314,ship:{isClass:r},bonus:{fire:1,torpedo:3}}]},function(e,i,t){"use strict";var r=t(0),s=r.DD_FubukiClass2ndRemodel,n=r.DD_AyanamiClass2ndRemodel,a=r.DD_AkatsukiClass2ndRemodel,o=r.DD_HatsuharuClass2ndRemodel,u=s.concat(n,a,o);e.exports=[{equipment:285,ship:{isID:u},bonusImprove:{0:{torpedo:2,evasion:1},10:{fire:1,torpedo:2,evasion:1}}}]},function(e,i,t){"use strict";var r=t(0).DD_KagerouClass2ndRemodel;e.exports=[{equipment:15,ship:{isID:r},bonusCount:{1:{torpedo:2},2:{torpedo:4}}}]},function(e,i,t){"use strict";var r=t(0),s=r.DD_ShiratsuyuClass2ndRemodel,n=r.DD_AsashioClass2ndRemodel,a=r.DD_KagerouClass2ndRemodel,o=r.DD_YuugumoClass2ndRemodel,u=s.concat(n,o);e.exports=[{equipment:286,ship:{isID:u},bonusImprove:{0:{torpedo:2,evasion:1},10:{fire:1,torpedo:2,evasion:1}}},{equipment:286,ship:{isID:a},bonusImprove:{0:{torpedo:2,evasion:1},5:{torpedo:3,evasion:1},10:{fire:1,torpedo:3,evasion:1}}}]},function(e,i,t){"use strict";var r=t(1),s=r.CLT_Kuma,n=r.DD_Shimakaze,a=r.DD_Akizuki;e.exports=[{equipment:58,ship:{isClass:[s,n,a]},bonus:{torpedo:1}}]},function(e,i,t){"use strict";var r=t(1).DD_Akizuki;e.exports=[{equipment:179,ship:{isClass:r},bonus:{torpedo:1}}]},function(e,i,t){"use strict";var r=t(1),s=r.CL_Kuma,n=r.CL_Nagara,a=r.CL_Sendai,o=r.CL_Agano,u=r.CLT_Kuma,p=r.CL_Gotland,l=r.CLV_Gotland;e.exports=[{equipment:304,ship:{isClass:[s,n,a,o,u]},bonus:{fire:1,evasion:1,asw:1}},{equipment:304,ship:{isClass:[p,l]},bonus:{fire:1,evasion:2,asw:2}}]},function(e,i,t){"use strict";var r=t(0),s=r.BB_IseClass2ndRemodel,n=r.BB_IseClassRemodel_PLUS_FusouClass2ndRemodel;e.exports=[{equipment:79,ship:{isID:n},bonus:{fire:2}},{equipment:79,ship:{isID:s},bonus:{fire:3}}]},function(e,i,t){"use strict";var r=t(0),s=r.BB_IseClass2ndRemodel,n=r.BB_IseClassRemodel_PLUS_FusouClass2ndRemodel;e.exports=[{equipment:81,ship:{isID:n},bonus:{fire:2}},{equipment:81,ship:{isID:s},bonus:{fire:3}}]},function(e,i,t){"use strict";var r=t(0),s=r.BB_IseClassRemodel,n=r.BB_IseClass2ndRemodel,a=r.BB_FusouClass2ndRemodel;e.exports=[{equipment:237,ship:{isID:a},bonus:{fire:2}},{equipment:237,ship:{isID:s},bonus:{fire:3,evasion:1}},{equipment:237,ship:{isID:n},bonus:{fire:4,evasion:2}}]},function(e,i,t){"use strict";var r=t(0).BB_IseClass2ndRemodel;e.exports=[{equipment:322,ship:{isID:r},bonus:{fire:5,aa:2,asw:1,evasion:2}}]},function(e,i,t){"use strict";var r=t(0).BB_IseClass2ndRemodel;e.exports=[{equipment:323,ship:{isID:r},bonus:{fire:6,aa:3,asw:2,evasion:3}}]},function(e,i,t){"use strict";var r=t(0).CV_AkagiClass2ndRemodel;e.exports=[{equipment:335,ship:{isID:[277,278]},bonus:{aa:1,evasion:1}},{equipment:335,ship:{isID:[].concat(function(e){if(Array.isArray(e)){for(var i=0,t=Array(e.length);i<e.length;i++)t[i]=e[i];return t}return Array.from(e)}(r))},bonus:{aa:2,evasion:1}}]},function(e,i,t){"use strict";var r=t(0).CV_AkagiClass2ndRemodel;e.exports=[{equipment:336,ship:{isID:[277,278]},bonus:{fire:1,aa:1,evasion:1}},{equipment:336,ship:{isID:[].concat(function(e){if(Array.isArray(e)){for(var i=0,t=Array(e.length);i<e.length;i++)t[i]=e[i];return t}return Array.from(e)}(r))},bonus:{fire:1,aa:2,evasion:1}}]},function(e,i,t){"use strict";e.exports=[{equipment:338,ship:{isID:[277,278]},bonus:{fire:1,aa:1,evasion:2}},{equipment:338,ship:{isID:[594]},bonus:{fire:1,aa:2,evasion:3}},{equipment:338,ship:{isID:[599]},bonus:{fire:4,aa:3,evasion:4}},{equipment:339,ship:{isID:[277,278]},bonus:{fire:1,aa:2,evasion:2}},{equipment:339,ship:{isID:[594]},bonus:{fire:1,aa:3,evasion:4}},{equipment:339,ship:{isID:[599]},bonus:{fire:6,aa:4,evasion:5}}]},function(e,i,t){"use strict";var r=t(1).group_CV_Navy_RM;e.exports=[{equipment:184,ship:{isClass:r},bonus:{fire:1,aa:2,evasion:3}}]},function(e,i,t){"use strict";function r(e){if(Array.isArray(e)){for(var i=0,t=Array(e.length);i<e.length;i++)t[i]=e[i];return t}return Array.from(e)}var s=t(1),n=s.group_CV_Navy_RM,a=s.group_CV_Navy_KM;e.exports=[{equipment:189,ship:{isClass:[].concat(r(n),r(a))},bonus:{aa:1,evasion:2}}]},function(e,i,t){"use strict";var r=t(2),s=r.Souryuu,n=r.Hiryuu;e.exports=[{equipment:99,ship:{isID:s},bonusCount:{1:{fire:4}}},{equipment:99,ship:{isID:n},bonusCount:{1:{fire:1}}}]},function(e,i,t){"use strict";var r=t(0).BB_IseClass2ndRemodel;e.exports=[{equipment:24,ship:{isID:r},bonus:{fire:2}}]},function(e,i,t){"use strict";var r=t(0).BB_IseClass2ndRemodel;e.exports=[{equipment:111,ship:{isID:r},bonus:{fire:2}}]},function(e,i,t){"use strict";var r=t(0).BB_IseClass2ndRemodel;e.exports=[{equipment:57,ship:{isID:r},bonus:{fire:2}}]},function(e,i,t){"use strict";var r=t(2),s=r.Souryuu,n=r.Hiryuu,a=t(0).BB_IseClass2ndRemodel;e.exports=[{equipment:100,ship:{isID:a},bonus:{fire:4}},{equipment:100,ship:{isID:s},bonusCount:{1:{fire:6}}},{equipment:100,ship:{isID:n},bonusCount:{1:{fire:3}}}]},function(e,i,t){"use strict";var r=t(0).BB_IseClass2ndRemodel;e.exports=[{equipment:291,ship:{isID:r},bonus:{fire:6,evasion:1}}]},function(e,i,t){"use strict";var r=t(0).BB_IseClass2ndRemodel;e.exports=[{equipment:292,ship:{isID:r},bonus:{fire:8,aa:1,evasion:2}}]},function(e,i,t){"use strict";var r=t(0).BB_IseClass2ndRemodel;e.exports=[{equipment:319,ship:{isID:r},bonus:{fire:7,aa:3,evasion:2}}]},function(e,i,t){"use strict";e.exports=[{equipment:320,ship:{isID:[553]},bonus:{fire:2}},{equipment:320,ship:{isID:[554]},bonus:{fire:4}},{equipment:320,ship:{isID:[197,196]},bonus:{fire:3}},{equipment:320,ship:{isID:[508,509]},bonus:{fire:4}}]},function(e,i,t){"use strict";var r=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};function s(e){if(Array.isArray(e)){for(var i=0,t=Array(e.length);i<e.length;i++)t[i]=e[i];return t}return Array.from(e)}var n=t(1),a=n.group_CV_Navy_RM,o=n.group_CV_Navy_KM,u={ship:{isClass:[].concat(s(a),s(o))},bonus:{fire:1,evasion:1}},p={ship:{isID:[526,380,529]},bonus:{asw:1,evasion:1}},l={ship:{isID:[534,381,536]},bonus:{asw:3,evasion:2}};e.exports=[r({equipment:305},u),r({equipment:305},p),r({equipment:305},l),r({equipment:306},u),r({equipment:306},p),r({equipment:306},l)]},function(e,i,t){"use strict";var r=t(1).group_CV_Navy_RM;e.exports=[{equipment:316,ship:{isClass:r},bonus:{fire:4,aa:1,evasion:1}}]},function(e,i,t){"use strict";var r=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},s={ship:{isID:[380,529,381,536]},bonus:{asw:1,evasion:1}};e.exports=[r({equipment:82},s),r({equipment:302},s)]},function(e,i,t){"use strict";var r=t(2),s=r.Souryuu,n=r.Hiryuu;e.exports=[{equipment:93,ship:{isID:s},bonusCount:{1:{fire:1}}},{equipment:93,ship:{isID:n},bonusCount:{1:{fire:3}}}]},function(e,i,t){"use strict";var r=t(2),s=r.Shoukaku,n=r.Zuikaku,a=t(0).CV_AkagiClassRemodelAll;e.exports=[{equipment:143,ship:{isID:[157]},bonusCount:{1:{fire:1}}},{equipment:143,ship:{isID:[].concat(function(e){if(Array.isArray(e)){for(var i=0,t=Array(e.length);i<e.length;i++)t[i]=e[i];return t}return Array.from(e)}(a))},bonusCount:{1:{fire:3}}},{equipment:143,ship:{isID:[278]},bonusCount:{1:{fire:2}}},{equipment:143,ship:{isID:s},bonusCount:{1:{fire:2}}},{equipment:143,ship:{isID:n},bonusCount:{1:{fire:1}}}]},function(e,i,t){"use strict";e.exports=[{equipment:344,ship:{isID:[282]},bonus:{fire:2,asw:1}},{equipment:344,ship:{isID:[555,560]},bonus:{fire:2,asw:2}},{equipment:344,ship:{isID:[318]},bonus:{fire:4,asw:1}},{equipment:344,ship:{isID:[599]},bonus:{fire:3}},{equipment:345,ship:{isID:[282]},bonus:{fire:3,evasion:1,asw:1}},{equipment:345,ship:{isID:[555,560]},bonus:{fire:3,evasion:3,asw:2}},{equipment:345,ship:{isID:[318]},bonus:{fire:5,evasion:2,asw:1}},{equipment:345,ship:{isID:[599]},bonus:{fire:3,evasion:1}}]},function(e,i,t){"use strict";var r=[];[18,52].forEach(function(e){r.push({equipment:e,ship:{isID:[277,278,156]},bonus:{fire:1}}),r.push({equipment:e,ship:{isID:[594]},bonus:{fire:1,evasion:1}}),r.push({equipment:e,ship:{isID:[599]},bonus:{fire:2,evasion:1}})}),e.exports=r},function(e,i,t){"use strict";function r(e){if(Array.isArray(e)){for(var i=0,t=Array(e.length);i<e.length;i++)t[i]=e[i];return t}return Array.from(e)}var s=t(0).CV_ShoukakuClass2ndRemodel;e.exports=[{equipment:342,ship:{isID:[277,278].concat(r(s))},bonus:{fire:1}},{equipment:342,ship:{isID:[594]},bonus:{fire:2,aa:2,evasion:1}},{equipment:342,ship:{isID:[599]},bonus:{fire:3,aa:2,evasion:2}},{equipment:343,ship:{isID:[].concat(r(s))},bonus:{fire:1}},{equipment:343,ship:{isID:[277,278]},bonus:{fire:2}},{equipment:343,ship:{isID:[594]},bonus:{fire:3,aa:2,evasion:1}},{equipment:343,ship:{isID:[599]},bonus:{fire:5,aa:3,evasion:3}}]},function(e,i,t){"use strict";var r=t(2),s=r.Souryuu,n=r.Hiryuu;e.exports=[{equipment:94,ship:{isID:s},bonusCount:{1:{fire:3}}},{equipment:94,ship:{isID:n},bonusCount:{1:{fire:7}}}]},function(e,i,t){"use strict";var r=t(0).CV_AkagiClassRemodelAll;e.exports=[{equipment:144,ship:{isID:[157]},bonusCount:{1:{fire:1}}},{equipment:144,ship:{isID:[].concat(function(e){if(Array.isArray(e)){for(var i=0,t=Array(e.length);i<e.length;i++)t[i]=e[i];return t}return Array.from(e)}(r))},bonusCount:{1:{fire:3}}},{equipment:144,ship:{isID:[278]},bonusCount:{1:{fire:2}}},{equipment:144,ship:{isID:[110,288]},bonusCount:{1:{fire:2}}},{equipment:144,ship:{isID:[461,466]},bonusCount:{1:{fire:4}}},{equipment:144,ship:{isID:[111,112]},bonusCount:{1:{fire:1}}},{equipment:144,ship:{isID:[462,467]},bonusCount:{1:{fire:2}}}]},function(e,i,t){"use strict";var r=t(1).group_CV_Navy_RM;e.exports=[{equipment:188,ship:{isClass:r},bonus:{fire:3,aa:1,evasion:1}}]},function(e,i,t){"use strict";var r=t(82).Carriers;e.exports=[{equipment:61,ship:{isID:[553]},bonusImprove:{0:{fire:3,evasion:2,armor:1,range:"1"},2:{fire:3,evasion:2,armor:1,los:1,range:"1"},4:{fire:4,evasion:2,armor:1,los:1,range:"1"},6:{fire:4,evasion:2,armor:1,los:2,range:"1"},10:{fire:5,evasion:2,armor:1,los:3,range:"1"}}},{equipment:61,ship:{isID:[554]},bonusImprove:{0:{fire:3,evasion:3,armor:3,range:"1"},2:{fire:3,evasion:3,armor:3,los:1,range:"1"},4:{fire:4,evasion:3,armor:3,los:1,range:"1"},6:{fire:4,evasion:3,armor:3,los:2,range:"1"},10:{fire:5,evasion:3,armor:3,los:3,range:"1"}}},{equipment:61,ship:{isType:r,isNotID:[560,508,509,197,196]},bonusImprove:{2:{los:1},4:{fire:1,los:1},6:{fire:1,los:2},10:{fire:2,los:3}}},{equipment:61,ship:{isID:[560,508,509]},bonusImprove:{1:{fire:1,los:1},2:{fire:1,los:2},4:{fire:2,los:2},6:{fire:2,los:3},10:{fire:3,los:4}}},{equipment:61,ship:{isID:[197]},bonusImprove:{0:{range:"1"},1:{fire:3,los:3,range:"1"},2:{fire:3,los:4,range:"1"},4:{fire:4,los:4,range:"1"},6:{fire:4,los:5,range:"1"},8:{fire:5,los:6,range:"1"},10:{fire:6,los:7,range:"1"}}},{equipment:61,ship:{isID:[196]},bonusImprove:{0:{range:"1"},1:{fire:2,los:2,range:"1"},2:{fire:2,los:3,range:"1"},4:{fire:3,los:3,range:"1"},6:{fire:3,los:4,range:"1"},10:{fire:4,los:5,range:"1"}}}]},function(e,i,t){"use strict";e.exports={Battleships:[8,6,20,7,18,33],Carriers:[9,10,11,30,32],HeavyCruisers:[4],LightCruisers:[2,3,21,28],Destroyers:[1,19],Submarines:[13,14],SeaplaneTenders:[12,24]}},function(e,i,t){"use strict";function r(e){if(Array.isArray(e)){for(var i=0,t=Array(e.length);i<e.length;i++)t[i]=e[i];return t}return Array.from(e)}var s=t(0),n=s.Yahagi,a=s.Ooyodo,o=s.Kashima,u=s.Hibiki,p=s.Kasumi,l=s.Yukikaze,c=s.Isokaze,f=s.Hamakaze,h=s.Asashimo,m=s.Suzutsuki;e.exports=[{equipment:106,ship:{isID:[].concat(r(a),r(o),r(u))},bonus:{aa:1,evasion:3,armor:1}},{equipment:106,ship:{isID:[].concat(r(n),r(p),r(l),r(c),r(f),r(h),r(m))},bonus:{aa:2,evasion:2,armor:1}},{equipment:106,ship:{isID:[151,541,407,145,419]},bonus:{fire:1,aa:2,evasion:3,armor:1}}]},function(e,i,t){"use strict";var r=t(1).group_Navy_USN;e.exports=[{equipment:307,ship:{isClass:r},bonus:{fire:1,aa:1,evasion:1}}]},function(e,i,t){"use strict";var r=t(1),s=r.group_Navy_USN,n=r.group_DD_Navy_USN;e.exports=[{equipment:315,ship:{isClass:s.filter(function(e){return!n.includes(e)})},bonus:{fire:2,evasion:3,los:4}},{equipment:315,ship:{isClass:n},bonus:{fire:3,evasion:3,los:4,range:"1"}}]},function(e,i,t){"use strict";function r(e){if(Array.isArray(e)){for(var i=0,t=Array(e.length);i<e.length;i++)t[i]=e[i];return t}return Array.from(e)}var s=t(0),n=s.Kamikaze,a=s.Harukaze,o=s.Ushio,u=s.Ikazuchi,p=s.Shigure,l=s.Yamakaze,c=s.Yamagumo,f=s.Isokaze,h=s.Hamakaze,m=s.Maikaze,d=s.Kishinami,b=s.Asashimo;e.exports=[{equipment:47,ship:{isID:[].concat(r(o),r(u),r(c),r(f),r(h),r(d))},bonus:{evasion:2,asw:2}},{equipment:47,ship:{isID:[].concat(r(n),r(a),r(p),r(l),r(m),r(b))},bonus:{fire:1,evasion:2,asw:3}}]},function(e,i,t){"use strict";var r=t(1).group_Navy_RN;e.exports=[{equipment:301,ship:{isClass:r},bonus:{aa:2,evasion:1,armor:1}}]},function(e,i,t){"use strict";var r=t(0).CL_KumaClassRemodelAll;e.exports=[{equipment:268,ship:{canEquip:[33]},bonusArea:{North:{armor:3}}},{equipment:268,ship:{isID:r},bonusCount:{1:{armor:2,evasion:7}}}]},function(e,i,t){"use strict";e.exports=[{equipment:35,ship:{isID:[149,591]},bonusCount:{1:{fire:1,aa:1}}},{equipment:35,ship:{isID:[150]},bonusCount:{1:{aa:1}}},{equipment:35,ship:{isID:[151]},bonusCount:{1:{aa:1,evasion:1}}},{equipment:35,ship:{isID:[152]},bonusCount:{1:{fire:1}}}]},function(e,i,t){"use strict";e.exports=[{equipment:317,ship:{isID:[78,209,86,210,79,211,85,212]},bonusCount:{1:{fire:1,aa:1}}},{equipment:317,ship:{isID:[149,591]},bonusCount:{1:{fire:3,aa:3}}},{equipment:317,ship:{isID:[150]},bonusCount:{1:{fire:2,aa:2}}},{equipment:317,ship:{isID:[151]},bonusCount:{1:{fire:2,aa:2,evasion:1}}},{equipment:317,ship:{isID:[152]},bonusCount:{1:{fire:3,aa:2}}},{equipment:317,ship:{isID:[541]},bonusCount:{1:{fire:1,aa:2}}},{equipment:317,ship:{isID:[573]},bonusCount:{1:{fire:2,aa:2,evasion:1}}}]},function(e,i,t){"use strict";e.exports=[{equipment:324,ship:{isID:553},bonus:{asw:1,evasion:1}},{equipment:324,ship:{isID:554},bonus:{asw:2,evasion:1}}]},function(e,i,t){"use strict";e.exports=[{equipment:325,ship:{isID:553},bonus:{asw:1,evasion:1}},{equipment:325,ship:{isID:554},bonus:{asw:2,evasion:1}}]},function(e,i,t){"use strict";e.exports=[{equipment:326,ship:{isID:553},bonus:{fire:2,asw:1,evasion:2}},{equipment:326,ship:{isID:554},bonus:{fire:3,asw:2,evasion:3}}]},function(e,i,t){"use strict";e.exports=[{equipment:327,ship:{isID:553},bonus:{fire:1,asw:3,evasion:1}},{equipment:327,ship:{isID:554},bonus:{fire:2,asw:4,evasion:2}}]},function(e,i,t){"use strict";e.exports=[{equipment:74,ship:{isID:[132,301]},bonus:{fire:1}},{equipment:74,ship:{isID:[20,228]},bonus:{aa:1}},{equipment:74,ship:{isID:[86,210,150,85,212,152,69,272,427,34,234,437]},bonusCount:{1:{fire:2,evasion:-1}}},{equipment:74,ship:{isID:[55,223,159]},bonusCount:{1:{fire:2,torpedo:2,evasion:-1}}}]},function(e,i,t){"use strict";e.exports=[{equipment:140,ship:{isID:[86,210,150,85,212,152]},bonusCount:{1:{fire:3,evasion:-2}}}]},function(e,i,t){"use strict";var r=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=t(98),a=t(7),o=t(101),u=t(5);e.exports=function e(i){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],c=arguments[4];if("string"==typeof p)return e(i,t,void 0,void 0,p);if("string"==typeof l)return e(i,t,p,void 0,l);var f=n(i,t,p,l);i=f.ship,t=f.equipments,p=f.equipmentStars,l=f.equipmentRanks;var h={},m=u.filter(function(e){return a(i,e.ship)}),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var i in e)void 0===h[i]?h[i]=e[i]:"number"==typeof h[i]?h[i]+=e[i]:h[i]=e[i]};return m.filter(function(e){return"number"==typeof e.equipment&&t.some(function(i){return i&&i.id&&i.id==e.equipment})}).forEach(function(e){var i={};if("object"===s(e.bonusImprove)){var n=Object.keys(e.bonusImprove).sort(function(e,i){return parseInt(i)-parseInt(e)});t.forEach(function(t,r){t&&t.id&&t.id==e.equipment&&n.some(function(t){if(p[r]>=t){for(var s in e.bonusImprove[t])void 0===i[s]?i[s]=e.bonusImprove[t][s]:"number"==typeof i[s]?i[s]+=e.bonusImprove[t][s]:i[s]=e.bonusImprove[t][s];return!0}return!1})})}else{var a=0;if(t.forEach(function(i){i&&i.id&&i.id==e.equipment&&a++}),"object"===s(e.bonusCount))Object.keys(e.bonusCount).sort(function(e,i){return parseInt(i)-parseInt(e)}).some(function(t){return a>=t&&(i=r({},e.bonusCount[t]),!0)});else if("object"===s(e.bonus))for(var o in i=r({},e.bonus))i[o]="number"==typeof i[o]?i[o]*a:parseInt(i[o])}d(i)}),m.filter(function(e){return"object"===s(e.equipments)&&o(t,p,l,e.equipments)}).forEach(function(e){d(e.bonus)}),"string"==typeof c?h[c]||0:h}},function(e,i,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var s=t(3),n=t(6);e.exports=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return"number"!=typeof i&&"string"!=typeof i||(i=[i]),"number"!=typeof t&&"string"!=typeof t||(t=[t]),"number"!=typeof a&&"string"!=typeof a||(a=[a]),e=s(e),i=[].concat(function(e){if(Array.isArray(e)){for(var i=0,t=Array(e.length);i<e.length;i++)t[i]=e[i];return t}return Array.from(e)}(Array(Math.max(5,e.slot.length+1)))).map(function(t,r){if(e&&!(e.slot.length<=r&&r<4))return n(i[r])||void 0}),{ship:e,equipments:i,equipmentStars:i.map(function(e,s){return"object"===r(i[s])?Math.min(10,parseInt(t[s])||0):void 0}),equipmentRanks:i.map(function(e,t){return"object"===r(i[t])?Math.min(7,parseInt(a[t])||0):void 0})}}},function(e,i,t){"use strict";e.exports=function(e,i){return Array.isArray(e)?e.some(i):i(e)}},function(e,i,t){"use strict";e.exports=function(e,i){return Array.isArray(e)?e.every(i):i(e)}},function(e,i,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function s(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}var n=t(9),a=["id","name","nameof","type"];e.exports=function e(i,t,o){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("object"===(void 0===t?"undefined":r(t))&&!Array.isArray(t))return e(i,[],[],t);if("object"===(void 0===o?"undefined":r(o))&&!Array.isArray(o))return e(i,t,[],o);if(!Array.isArray(i))return e([i],t,o,u);if(Array.isArray(t)||(t=[t]),Array.isArray(o)||(o=[o]),Array.isArray(u)){var p=[].concat(function(e){if(Array.isArray(e)){for(var i=0,t=Array(e.length);i<e.length;i++)t[i]=e[i];return t}return Array.from(e)}(i));return u.every(function(e){return p.some(function(i,r){return!!n(i,t[r],o[r],e)&&(p.splice(r,1),!0)})})}var l=function(e){if(void 0===u[e])return"continue";if(!1===u[e]){if(!i.every(function(i,r){return n(i,t[r],o[r],s({},e.replace(/^has/,"is"),u[e]))}))return{v:!1}}else if(!0===u[e]){if(!i.some(function(i,r){return n(i,t[r],o[r],s({},e.replace(/^has/,"is"),u[e]))}))return{v:!1}}else if("has"===e.substr(0,3)&&a.includes(e.substr(3).toLowerCase())){if(Array.isArray(u[e])){if(!u[e].every(function(r){return i.some(function(i,a){return n(i,t[a],o[a],s({},e.replace(/^has/,"is"),r))})}))return{v:!1}}else if(!i.some(function(i,r){return n(i,t[r],o[r],s({},e.replace(/^has/,"is"),u[e]))}))return{v:!1}}else if("has"!==e.substr(0,3)||"object"!==r(u[e])||Array.isArray(u[e])){if("has"!==e.substr(0,3)||isNaN(u[e])){if("has"===e.substr(0,3)&&Array.isArray(u[e])){var p=i.filter(function(i,r){return n(i,t[r],o[r],s({},e.replace(/^has/,"is"),!0))});if(p.length<u[e][0]||p.length>u[e][1])return{v:!1}}}else if(i.filter(function(i,r){return n(i,t[r],o[r],s({},e.replace(/^has/,"is"),!0))}).length<u[e])return{v:!1}}else{var l=Object.assign({},u[e]),c=void 0===l.count?1:l.count;if(delete l.count,i.filter(function(i,r){return n(i,t[r],o[r],s({},e.replace(/^has/,"is"),l))}).length<c)return{v:!1}}};for(var c in u){var f=l(c);switch(f){case"continue":continue;default:if("object"===(void 0===f?"undefined":r(f)))return f.v}}return!0}},function(e,i,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return"object"===(void 0===e?"undefined":r(e))&&e.id?e:isNaN(e)?void 0:KC.db.ship_classes[parseInt(e)]}},function(e,i,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return"object"===(void 0===e?"undefined":r(e))&&e.id?e:isNaN(e)?void 0:KC.db.ship_types[parseInt(e)]}},function(e,i,t){"use strict";var r=t(3),s=t(105),n=t(4);e.exports=function(e){var i=e.ship,t=e.equipments,a=void 0===t?[]:t,o=e.equipmentStars,u=void 0===o?[]:o,p=e.bonus,l=void 0===p?{}:p,c=e.count,f=void 0===c?{}:c,h=r(i),m=s(h),d=h.stat.fire_max+(l.fire||0),b=0,y=[];m.forEach(function(e,i){if(a[i]){var t=a[i],r=!1,s=!1;if(!Array.isArray(t.type_ingame)||45!==t.type_ingame[3]&&46!==t.type_ingame[3]?n.TorpedoBombers.includes(t.type)?t.hasName("Swordfish","ja_jp")&&(s=!0,b++):n.DiveBombers.includes(t.type)&&(t.hasName("岩井","ja_jp")&&(s=!0,b++),t.hasName("三一号光電管爆弾","ja_jp")&&(s=!0,b++)):(r=!0,s=!0),s){var o=r?3:0,p=r?.45:.3;d+=t.getStat("fire",h)+t.getStat("torpedo",h)+o*e+p*Math.sqrt(e)*(t.getStat("fire",h)+t.getStat("torpedo",h)+t.getStat("bomb",h)+t.getStat("asw",h))+(u[i]?KC.formula.getStarBonus(a[i],"night",u[i]):0)}}}),f.carrierFighterNight>=2&&f.torpedoBomberNight>=1&&y.push(1.25),f.carrierFighterNight>=1&&f.torpedoBomberNight>=1&&y.push(1.2),(f.carrierFighterNight>=3||f.carrierFighterNight>=2&&b>=1||f.carrierFighterNight>=1&&f.torpedoBomberNight>=1&&b>=1||f.carrierFighterNight>=1&&f.torpedoBomberNight>=2||f.carrierFighterNight>=1&&b>=2)&&y.push(1.18);var v={type:"航空",hit:1,damage:Math.floor(d),isMax:!0};return y.length&&(v.cis=y.map(function(e){return[Math.floor(v.damage*e),1]})),v}},function(e,i,t){"use strict";e.exports=function(e){for(var i=t(3)(e).slot,r=void 0===i?[]:i,s=[],n=0;n<5;n++)s[n]=r[n]||0;return s}}]);